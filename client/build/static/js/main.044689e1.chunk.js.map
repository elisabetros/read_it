{"version":3,"sources":["pages/Signup.js","pages/Login.js","auth/isAuthorized.js","components/Logout.js","components/theme.js","components/Review.js","pages/Profile.js","components/SearchResult.js","pages/Search.js","pages/ReviewBook.js","pages/Reviews.js","pages/ForgotPassword.js","pages/ResetPassword.js","pages/BookDetail.js","components/Error.js","components/Notification.js","App.js","serviceWorker.js","index.js","config/api.js"],"names":["useStyles","makeStyles","theme","submit","marginTop","spacing","justifySelf","color","Signup","props","classes","useState","email","setEmail","firstName","setFirstName","lastName","setLastName","password","setPassword","repeatPassword","setRepeatPassword","handleSubmit","e","a","onError","preventDefault","console","log","axios","post","response","onNotification","history","push","data","error","FormControl","margin","required","fullWidth","InputLabel","htmlFor","Input","name","type","id","autoComplete","onChange","target","value","Button","variant","className","onClick","Login","onLogin","method","autoFocus","to","isAuthorized","ComponentToWrap","isLoggedIn","setLoginStatus","userID","setUserID","useEffect","isFetching","get","fetchOnlineUser","useHistory","handleLogout","onLogout","location","createMuiTheme","palette","primary","main","secondary","orange","delete","backgroundColor","rating","newReviewRating","setNewReviewRating","title","newReviewTitle","setNewReviewTitle","review","newReviewText","setNewReviewText","editModel","setEditModel","deleteModel","setDeleteModel","deleteReview","onDelete","handleEditReview","reviewID","defaultValue","TextField","label","multiline","key","book_id","book_title","user_id","checkUser","user","first_name","last_name","ratingArray","i","parseInt","showRating","src","img","alt","booksInLibrary","setBooks","reviewedBooks","setReviewedBooks","edit","setEdit","newFirstname","setNewFirstname","newLastname","setNewLastname","newEmail","setNewEmail","fetchBooksInLibrary","fetchReviewedBooks","deleteAccount","handleClick","likedBookID","newBooksInLibrary","filter","book","handleDeleteReview","newReviewedBooks","map","author","isLiked","setLike","publishedYear","shortenedDesc","text","max","authors","volumeInfo","hasOwnProperty","publishedDate","slice","description","length","split","join","handleLike","toString","bookID","imageLinks","thumbnail","handleUnlike","likedBooks","isSame","find","smallThumbnail","index","publisher","searchString","setSearchString","searchResults","setSearchResults","setLikedBooks","validateForm","handleSearch","apiCred","withCredentials","bookArray","items","bookInfo","handleError","handleNotification","fetchLikedBooks","result","disabled","notification","maxHeight","setBook","reviewText","setReviewText","reviewTitle","setReviewTitle","reviewRating","setReviewRating","useParams","fetchBook","bookTitle","Reviews","reviews","setReviews","searchStr","setSearchStr","clearSearch","setClearSearch","fetchReviews","matches","toLowerCase","includes","ForgotPassword","handleSubmitEmail","ResetPassword","newPassword","setNewPassword","newRepeatPassword","token","match","params","str","stoUpperCase","BookDetail","goBack","subtitle","Date","toDateString","parse","href","infoLink","Error","Notification","defaults","setError","setNotification","setLoggedInStatus","handleAction","newStatus","errorMsg","setTimeout","notificationMsg","ThemeProvider","activeClassName","exact","Logout","path","component","Boolean","window","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message","module","exports"],"mappings":"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","file":"static/js/main.044689e1.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport '../css/form.css'\r\nimport axios from \"axios\";\r\n\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nconst Signup = (props) => {\r\n\r\n    const classes= useStyles()\r\n\r\nconst [email, setEmail] = useState()\r\nconst [firstName, setFirstName] = useState()\r\nconst [lastName, setLastName] = useState()\r\nconst [password, setPassword] = useState()\r\nconst [repeatPassword, setRepeatPassword] = useState()\r\n\r\n// const regExp TODO: validate email\r\n\r\n\r\nconst handleSubmit = async (e) => {\r\n    props.onError(null)\r\n    e.preventDefault()  \r\n    if(password !== repeatPassword){\r\n        console.log('errors')\r\n        props.onError(\"Passwords don't match\")\r\n        return\r\n    }\r\n    if(password < 8){\r\n        console.log('error')\r\n        props.onError('Password too short')\r\n        return\r\n    }\r\n      try{\r\n        \r\n        console.log(firstName)\r\n        const response = await axios.post('https://read-it-react.herokuapp.com/user/register', {\r\n            firstName,\r\n            lastName,\r\n            email,\r\n            password,\r\n            repeatPassword\r\n        })\r\n        console.log(response)\r\n        props.onNotification('Signup succsessful')\r\n          props.history.push('/read_it/login')\r\n          \r\n      }catch(err){\r\n        if(err){\r\n          console.log(err.response.data.error);\r\n          props.onError(err.response.data.error) }\r\n      }\r\n    \r\n    console.log('submit')\r\n}\r\n    return(\r\n        <>\r\n        <form >\r\n        <h1>Sign up</h1>\r\n        <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"email\">Email</InputLabel>\r\n            <Input name=\"email\" type=\"email\" id=\"email\" autoComplete=\"email\" onChange={(e) => setEmail(e.target.value)}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"firstName\">Firstname</InputLabel>\r\n            <Input name=\"firstName\" type=\"text\" id=\"firstName\" autoComplete=\"firstName\" onChange={(e) => setFirstName(e.target.value)}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"lastname\">Lastname</InputLabel>\r\n            <Input name=\"lastname\" type=\"text\" id=\"lastname\" autoComplete=\"lastname\" onChange={(e) => setLastName(e.target.value)}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n            <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"password\" onChange={(e) => setPassword(e.target.value)}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"repeatPassword\">Repeat Password</InputLabel>\r\n            <Input name=\"repeatPassword\" type=\"password\" id=\"repeatPassword\" autoComplete=\"repeatPassword\" onChange={(e) => setRepeatPassword(e.target.value)}/>\r\n          </FormControl>\r\n            <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={(e) => handleSubmit(e)}\r\n            >Sign Up</Button>\r\n        </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Signup","import React, { useState } from 'react';\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\n\r\n// import formCss from '../css/form.css'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nconst Login = (props) => {\r\n    const classes = useStyles()\r\n    const [ email, setEmail ] = useState(\"\")\r\n    const [ password, setPassword ] = useState(\"\")\r\n\r\n    const handleSubmit = async (e) => {\r\n        props.onError()\r\n        e.preventDefault()\r\n        if(!email || !password){\r\n            props.onError('Missing fields')\r\n            return;\r\n        }\r\n          try{\r\n            const response = await axios.post(\"https://read-it-react.herokuapp.com/user/login\", {\r\n              email, password\r\n          })\r\n          console.log(response.data)\r\n         props.onLogin(true)\r\n          props.onNotification('Login successful')\r\n            props.history.push('/read_it/profile')\r\n            \r\n        }catch(err){\r\n          if(err){\r\n            console.log(err.response.data.error);\r\n            props.onError(err.response.data.error)\r\n           }\r\n          }\r\n        \r\n        \r\n      }\r\n// TODO: add forgot password\r\n    return(\r\n        <div className=\"loginPage\">\r\n        <form method=\"post\" >\r\n            <h1>Log in</h1>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n            <Input id=\"email\" name=\"email\" autoComplete=\"email\" autoFocus onChange={(e) => setEmail(e.target.value)} />\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n            <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" onChange={(e) => setPassword(e.target.value)}/>\r\n          </FormControl>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={(e)=> handleSubmit(e)}\r\n            >\r\n            Log in\r\n          </Button>\r\n                \r\n            \r\n        {/* <Link to=\"/sendResetEmail\">Forgot your Password?</Link> */}\r\n\r\n        </form>\r\n        <Link to=\"/read_it/forgotpassword\">Forgot Your Password?</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst isAuthorized = ComponentToWrap => props => {\r\n    const [ isLoggedIn, setLoginStatus ] = useState(false);\r\n    const [ userID, setUserID ] = useState()\r\n     \r\n    useEffect(() => {\r\n      let isFetching = true\r\n      \r\n      const fetchOnlineUser = async () => {        \r\n        try{\r\n          const response = await axios.get(\"https://read-it-react.herokuapp.com/auth\")\r\n          if(isFetching){\r\n            setLoginStatus(true)\r\n            setUserID(response.data.response)\r\n          }\r\n        }catch(err){\r\n          if(err){\r\n            console.log(err.response.data.error)\r\n          }\r\n        }\r\n      }\r\n\r\n      fetchOnlineUser()\r\n      return () => isFetching = false; //unsubscribe\r\n},[])\r\n\r\n  return (\r\n    <ComponentToWrap isAuthorized={isLoggedIn} userID={userID} {...props}/>\r\n  );\r\n}\r\n\r\n\r\nexport default isAuthorized","import React from 'react'\r\nimport axios from 'axios'\r\nimport isAuthorized from '../auth/isAuthorized'\r\nimport { Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { useHistory } from 'react-router-dom';\r\n  \r\n  const useStyles = makeStyles(theme => ({\r\n    submit: {\r\n     justifySelf: 'center',\r\n     color:'white'\r\n   },\r\n }));\r\n\r\n\r\nconst LogOut = (props) => {\r\n    const classes = useStyles()\r\n    const history = useHistory()\r\n    const handleLogout = async () => {\r\n        try{\r\n            const response = await axios('https://read-it-react.herokuapp.com/user/logout')\r\n            console.log(props)   \r\n            if(response.data.response){\r\n                props.onLogout(false)\r\n                props.onNotification('You are now logged out')\r\n                console.log(history.location)\r\n                if(history.location === '/profile'){\r\n                    props.history.push('/')\r\n                }\r\n            }       \r\n        }catch(err){\r\n            if(err){\r\n                console.log(err)\r\n                // props.onError(err.response.data.error)\r\n             }\r\n        }\r\n\r\n    }\r\n\r\n    return(\r\n        <Button type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"secondary\"\r\n        className={classes.submit} onClick={handleLogout}>Log Out</Button>\r\n    )\r\n\r\n}\r\nexport default isAuthorized(LogOut)","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport orange from '@material-ui/core/colors/orange';\r\n\r\n\r\n const theme = createMuiTheme({\r\n    palette: {\r\n        primary: {main: '#333745'},\r\n        secondary: orange,\r\n      }\r\n  });\r\n\r\n  export default theme  ","import React, { useState } from \"react\";\r\nimport { BsFillStarFill, BsPencilSquare, BsFillTrashFill } from 'react-icons/bs'\r\nimport { Link } from \"react-router-dom\";\r\nimport isAuthorized from \"../auth/isAuthorized\";\r\n\r\nimport axios from 'axios';\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel,\r\n    TextField\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    submit: {\r\n     marginTop: theme.spacing * 3,\r\n     justifySelf: 'center',\r\n     color:'white'\r\n   },\r\n   delete: {\r\n       backgroundColor: 'rgb(61, 60, 60)',\r\n       color:'white'\r\n   }\r\n }));\r\n\r\nconst Review = (props) => {\r\n\r\n    const classes = useStyles()\r\n\r\n    const [ newReviewRating, setNewReviewRating] = useState(props.rating)\r\n    const [ newReviewTitle, setNewReviewTitle] = useState(props.title)\r\n    const [ newReviewText, setNewReviewText] = useState(props.review)    \r\n    const [ editModel, setEditModel ] = useState(false)\r\n    const [ deleteModel, setDeleteModel ] = useState(false)\r\n\r\n    const showDeleteModel = () => {\r\n        console.log('delete')\r\n        return(\r\n            <div className=\"model\">\r\n                <div className=\"model-content\">\r\n                <h2>Are you sure you want to delete this review?</h2>\r\n                <p>This action cannot be reversed</p>\r\n                 <Button type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    className={classes.delete}  \r\n                    onClick={deleteReview}>Delete</Button> \r\n                <Button type=\"submit\"\r\n                    fullWidth\r\n                    color=\"secondary\"\r\n                    variant=\"contained\"\r\n                    className={classes.submit}  \r\n                    onClick={()=>setDeleteModel(false)}>Cancel</Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    const deleteReview = async () => {\r\n       props.onDelete(props.id)\r\n       setDeleteModel(false)\r\n           setEditModel(false)\r\n    }\r\n    const showEditModel = () => {\r\n        // const review = reviewedBooks.find(review => review.id === id)\r\n        console.log(props)\r\n        return(<div className=\"model\">\r\n            <div className=\"model-content\">\r\n            <span className=\"btn\" onClick={() => setEditModel(false)}>X</span>\r\n            <h3>Edit Your Review</h3>\r\n            <FormControl margin=\"normal\"  fullWidth>\r\n                <InputLabel htmlFor=\"title\">Title of Review</InputLabel>\r\n                <Input name=\"title\" type=\"text\"\r\n                defaultValue={props.title} \r\n                 id=\"title\" \r\n                 onChange={(e) => setNewReviewTitle(e.target.value)}/>\r\n          </FormControl>\r\n            <FormControl margin=\"normal\"  fullWidth>\r\n                <InputLabel htmlFor=\"rating\">Rating</InputLabel>\r\n                <Input name=\"rating\" type=\"number\" \r\n                defaultValue={props.rating}\r\n                id=\"rating\" \r\n                onChange={(e) => setNewReviewRating(e.target.value)}/>\r\n          </FormControl>\r\n            <FormControl margin=\"normal\"  fullWidth>\r\n                <TextField \r\n                    id=\"standard-textarea\"\r\n                    defaultValue={props.review}\r\n                    label=\"Review\"\r\n                    multiline\r\n  onChange={(e) => setNewReviewText(e.target.value)}/>\r\n          </FormControl>\r\n          \r\n            <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n             onClick={(e) => handleEditReview(e)}>Submit Changes</Button>\r\n             \r\n             <div className=\"dltBtn btn\" onClick={() => setDeleteModel(true)}><BsFillTrashFill />Delete Review</div>\r\n            </div>\r\n        </div>)\r\n    }\r\n    \r\n\r\n    const handleEditReview = async () => {\r\n        if(newReviewRating || newReviewText || newReviewTitle){\r\n            try{\r\n                const response = await axios.post('https://read-it-react.herokuapp.com/updateReview',{\r\n                    reviewID:props.id,\r\n                     newReviewTitle, \r\n                     newReviewText,\r\n                     newReviewRating\r\n                })\r\n                console.log(response.data)\r\n                setEditModel(false)\r\n            }catch(err){\r\n                if(err){\r\n                    console.log(err)\r\n\r\n        }\r\n        }\r\n    }\r\n}\r\n\r\n    const checkUser = () => {\r\n        if(props.userID === props.user_id){\r\n            return   <div className=\"btn\" onClick={(e) => setEditModel(props.id)}><BsPencilSquare/>Edit Review</div>\r\n        }\r\n    }\r\n\r\n    console.log(props)\r\n    const showRating = () => {\r\n        let ratingArray = []\r\n        for(let i= 0; i< parseInt(props.rating); i++){\r\n            ratingArray.push(<BsFillStarFill key={i}/>)\r\n        }\r\n        return ratingArray\r\n    }\r\n      return(\r\n        // {props.review?\r\n        <>\r\n        {editModel? showEditModel(editModel) :null}\r\n         <div className=\"review\" key={props.id}>\r\n             <div className=\"link-editBtn\">\r\n             <Link to={\"bookdetail/\"+props.book_id}>About {props.book_title}</Link>\r\n             {checkUser()}\r\n             </div>\r\n            <div className=\"pub-authors\"> \r\n                <div>\r\n                <h5>{props.book_title}</h5>\r\n                <p>Review by {props.user.first_name} {props.user.last_name}</p>\r\n                </div>\r\n                 <div className=\"rating\"> {showRating()}</div>\r\n            </div>\r\n            <img src={props.img} alt=\"book cover\"/>\r\n            <h3>{props.title}</h3>\r\n            <p>{props.review}</p>\r\n            {deleteModel? showDeleteModel(): null}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default isAuthorized(Review)","import React, { useState, useEffect } from \"react\"\r\nimport axios from 'axios'\r\n\r\nimport isAuthorized from '../auth/isAuthorized'\r\nimport Review from '../components/Review'\r\n\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { BsHeartFill, BsFillTrashFill, BsFillStarFill } from \"react-icons/bs\";\r\nimport '../css/profile.css'\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    submit: {\r\n     marginTop: theme.spacing * 3,\r\n     justifySelf: 'center',\r\n     color:'white'\r\n   },\r\n   delete: {\r\n       backgroundColor: 'rgb(61, 60, 60)',\r\n       color:'white'\r\n   }\r\n }));\r\n\r\nconst Profile = (props) => {\r\n    const classes = useStyles()\r\n\r\n    const [ booksInLibrary, setBooks ] = useState()\r\n    const [ reviewedBooks, setReviewedBooks ] = useState()\r\n    const [ edit, setEdit ] = useState(false)\r\n    const [ newFirstname, setNewFirstname ] = useState()\r\n    const [ newLastname, setNewLastname ] = useState()\r\n    const [ newEmail, setNewEmail ] = useState()\r\n\r\n    const [ deleteModel, setDeleteModel ] = useState(false)\r\n\r\n\r\n    let history = useHistory()\r\n    \r\n    \r\n   \r\n   \r\n    useEffect(() => {\r\n        let isFetching = true\r\n      \r\n        const fetchBooksInLibrary = async () => {\r\n            try{\r\n                const response = await axios('https://read-it-react.herokuapp.com/getBooksInLibrary')\r\n                console.log(response.data)\r\n                if(isFetching){\r\n                    setBooks(response.data)\r\n                }\r\n            }catch(err){\r\n                if(err){\r\n                    props.onError(err.response.data.error)\r\n                 }\r\n            }\r\n           \r\n        }\r\n        const fetchReviewedBooks = async () => {\r\n            try{\r\n                const response = await axios('https://read-it-react.herokuapp.com/getUserReviewedBooks')\r\n                console.log(response.data)\r\n                if(isFetching){\r\n                    setReviewedBooks(response.data)\r\n                }\r\n            }catch(err){\r\n                if(err){\r\n                    props.onError(err.response.data.error)\r\n                 }\r\n            }\r\n           \r\n        }\r\n        if(props.isAuthorized){\r\n\r\n            fetchBooksInLibrary()\r\n            fetchReviewedBooks()\r\n        }\r\n        return () => isFetching = false\r\n    },[props.isAuthorized])\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        console.log('submit profile changes')\r\n        // if(!newEmail || !newFirstname || !newLastname){\r\n        //                \r\n        // }\r\n        if(newEmail || newFirstname || newLastname){\r\n            try{\r\n                const response = await axios.post('https://read-it-react.herokuapp.com/user/update', {\r\n                    newFirstname,\r\n                    newLastname,\r\n                    newEmail\r\n                })\r\n            console.log(response.data)\r\n            props.onNotification(response.data.response)\r\n            setEdit(false)\r\n            }catch(err){\r\n                if(err){\r\n                    props.onError(err.response.data.error)                    \r\n                 }\r\n            }\r\n           \r\n       \r\n\r\n        }else{\r\n            props.onError('Please fill out information you would like changed') \r\n        }\r\n    }\r\n    const showDeleteModel = () => {\r\n        console.log('delete')\r\n        return(\r\n            <div className=\"model\">\r\n                <div className=\"model-content\">\r\n                <h2>Are you sure you want to delete your account?</h2>\r\n                <p>This action cannot be reversed</p>\r\n                 <Button type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    className={classes.delete}  \r\n                    onClick={deleteAccount}>Delete</Button> \r\n                <Button type=\"submit\"\r\n                    fullWidth\r\n                    color=\"secondary\"\r\n                    variant=\"contained\"\r\n                    className={classes.submit}  \r\n                    onClick={()=>setDeleteModel(false)}>Cancel</Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    const deleteAccount = async () => {\r\n        try{\r\n            const response =  await axios.delete('https://read-it-react.herokuapp.com/user/deleteAccount')\r\n        console.log(response.data)\r\n        props.onNotification(response.data.response)\r\n            history.push('/read_it/')\r\n        }catch(err){\r\n            if(err){\r\n                props.onError(err.response.data.error)\r\n                \r\n             }\r\n        }\r\n       \r\n    }\r\n\r\n\r\n    const handleClick = async (id) => {\r\n        console.log('remove from library', id)\r\n        try{\r\n            const response = await axios.post('https://read-it-react.herokuapp.com/removeBookFromLibrary', {likedBookID: id})\r\n            console.log(response.data)\r\n            console.log(booksInLibrary)\r\n            const newBooksInLibrary = booksInLibrary.filter(book=> book.book_id !== id)\r\n            setBooks(newBooksInLibrary)\r\n        }catch(err){\r\n            if(err){\r\n                props.onError(err.response.data.error)\r\n            }\r\n        }       \r\n    }\r\n\r\n    const handleDeleteReview = async (id) => {\r\n        try{\r\n            const response =  await axios.post('https://read-it-react.herokuapp.com/deleteReview', {id})\r\n        console.log(response.data)\r\n        props.onNotification(response.data.response)\r\n        const newReviewedBooks = reviewedBooks.filter(review => review.id !== id)\r\n        setReviewedBooks(newReviewedBooks)\r\n            \r\n        }catch(err){\r\n            if(err){\r\n                props.onError(err.response.data.error)                \r\n             }\r\n        }\r\n    }\r\n\r\n    if(!props.isAuthorized){\r\n         return (<div className=\"notAuthorized\">\r\n            <h1>Log in to view your profile</h1>\r\n            <Link to=\"/read_it/login\"> Login</Link></div>)\r\n    }\r\n\r\n    return(\r\n        <div className=\"profile\">\r\n       \r\n        <div>            \r\n            <h2>Your Library</h2>\r\n            <div className=\"library\">\r\n            {booksInLibrary?\r\n                booksInLibrary.map(book => {\r\n                    return (<div className='book' key={book.id} >\r\n                            <BsHeartFill className=\"heartIcon\" onClick={()=>handleClick(book.book_id)}/>\r\n                            <img src={book.img} alt=\"Book cover\"/>\r\n                            <h3>{book.title}</h3>\r\n                            <h4>{book.author}</h4>\r\n                            <Link to={\"/read_it/reviewbook/\"+book.book_id}>Review Book</Link>\r\n                        </div>)\r\n                })\r\n                :<div>\r\n                    <h2>There appears to be nothing in your library</h2>\r\n                    <Link to=\"/\">Browse Books</Link>\r\n                </div>}\r\n            </div>\r\n        </div>\r\n        <div className=\"userReviews\">\r\n                <h2>Your Reviews</h2>\r\n                {reviewedBooks?\r\n                reviewedBooks.map(review => {\r\n                    return <Review {...review} onDelete={handleDeleteReview}/>\r\n                })\r\n                :null}\r\n                \r\n        </div>\r\n        \r\n        <button className={edit? 'shown editBtn': 'editBtn'} onClick={() => edit? setEdit(false): setEdit(true)}>Edit your information</button>\r\n        <form className={edit? 'showForm editForm' :'editForm'}>\r\n            <h3>Update your information</h3>\r\n             <FormControl margin=\"normal\"  fullWidth>\r\n                <InputLabel htmlFor=\"newFirstname\">Firstname</InputLabel>\r\n                <Input name=\"newFirstname\" type=\"text\" id=\"newFirstname\"  onChange={(e) => setNewFirstname(e.target.value)}/>\r\n          </FormControl> \r\n           <FormControl margin=\"normal\"  fullWidth>\r\n                <InputLabel htmlFor=\"newLastname\">Lastname</InputLabel>\r\n                <Input name=\"newLastname\" type=\"text\" id=\"newLastname\"  onChange={(e) => setNewLastname(e.target.value)}/>\r\n          </FormControl> \r\n            <FormControl margin=\"normal\"  fullWidth>\r\n               <InputLabel htmlFor=\"newEmail\">Email</InputLabel>\r\n                <Input name=\"newEmail\" type=\"text\" id=\"newEmail\"  onChange={(e) => setNewEmail(e.target.value)}/>\r\n          </FormControl>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={(e) => handleSubmit(e)}>Submit Changes</Button> \r\n         </form>\r\n         <div className=\"dltBtn btn\" onClick={() => setDeleteModel(true)}><BsFillTrashFill />Delete Account</div>\r\n         {deleteModel? showDeleteModel(): null}\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default isAuthorized(Profile)","import React, { useState, useEffect } from \"react\";\r\nimport  '../css/searchResults.css'\r\nimport { BsHeart, BsHeartFill} from \"react-icons/bs\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport isAuthorized from \"../auth/isAuthorized\";\r\n\r\nconst SearchResult = (props) => {\r\n//    const [ searchResults, setSearchResults] = useState(props)\r\n   const [ isLiked, setLike ] = useState(false)\r\n\r\nconsole.log(props)\r\nlet authors = null;\r\nlet publishedYear;\r\nlet shortenedDesc;\r\n\r\nconst shortenDesc = (text,max) => {\r\n    return text && text.length > max ? text.slice(0,max).split(' ').slice(0, -1).join(' ') : text\r\n}\r\n\r\nif(props.volumeInfo.hasOwnProperty('publishedYear')){\r\n    publishedYear = props.volumeInfo.publishedDate.slice(0,4)\r\n}\r\nif(props.volumeInfo.hasOwnProperty('description')){\r\n    shortenedDesc = shortenDesc(props.volumeInfo.description, 150)\r\n}\r\nif(props.volumeInfo.hasOwnProperty('authors')){\r\n    authors = props.volumeInfo.authors.map(author => {\r\n            return author\r\n        })\r\n    }\r\n   \r\n    const handleLike = async () => {\r\n        if(props.isAuthorized){\r\n       if(!props.volumeInfo.hasOwnProperty('authors')){\r\n           authors = null;\r\n       }else{\r\n           authors = authors.toString()\r\n       }\r\n        console.log(authors)\r\n        try{\r\n            const response = await axios.post('https://read-it-react.herokuapp.com/addBookToLibrary', {\r\n                bookID: props.id, \r\n                title: props.volumeInfo.title,\r\n                author: authors,\r\n                img: props.volumeInfo.imageLinks.thumbnail\r\n            })\r\n            console.log(response.data)\r\n            // props.notification(response.data.response)\r\n            setLike(true)\r\n        }catch(err){\r\n            if(err){\r\n                // props.error(err.response.data.error)\r\n                console.log(err.response.data.error)\r\n             }\r\n        }     \r\n        }else{\r\n        props.error('Please login to add a book to your library')\r\n        }    \r\n    }\r\n\r\n    const handleUnlike = async () => {\r\n        console.log('remove from library')\r\n        // if(props.isAuthorized){\r\n        try{\r\n            const response = await axios.post('https://read-it-react.herokuapp.com/removeBookFromLibrary', {likedBookID: props.id})\r\n            console.log(response.data)\r\n           setLike(false)\r\n        }catch(err){\r\n            if(err){\r\n                // props.error(err.response.data.error)\r\n            }\r\n        }    \r\n    // }  \r\n    }\r\n\r\n    useEffect(() => {\r\n        if(props.likedBooks){\r\n            const isSame = props.likedBooks.find(book => book.book_id === props.id)\r\n            if(isSame){\r\n                setLike(true)              \r\n            }else{\r\n                setLike(false)\r\n             }\r\n            }\r\n\r\n    }, [props])\r\n    \r\n    console.log(props.likedBooks)\r\n\r\n    return(\r\n        <div className=\"searchResult\" >\r\n           \r\n            {props.volumeInfo.imageLinks? <img src={props.volumeInfo.imageLinks.smallThumbnail} alt=\"book cover\" /> : null}\r\n            {!isLiked ?\r\n            <BsHeart className=\"heartIcon\" onClick={handleLike}/>\r\n            : <BsHeartFill className=\"heartIcon\" onClick={handleUnlike} /> }\r\n            <h3>{props.volumeInfo.title}</h3>\r\n            <div className=\"authors\">\r\n            {authors? authors.map((author, index) => {\r\n                // console.log(author)\r\n                return <h4 key={author+index}> By: {author}</h4>\r\n            }) : null }\r\n            </div>\r\n            <p>{shortenedDesc} <Link to={'/bookdetail/'+ props.id}>...Read More</Link></p>\r\n            <div>\r\n        \t<p>{props.volumeInfo.publisher}</p>\r\n        \t<p>{publishedYear}</p>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n// }\r\n\r\n       \r\n        \r\n    \r\n}\r\nexport default isAuthorized(SearchResult)","import React, { useState, useEffect } from \"react\"\r\nimport axios from 'axios'\r\nimport SearchResult from '../components/SearchResult'\r\nimport isAuthorized from '../auth/isAuthorized'\r\nimport  '../css/form.css'\r\nimport '../css/searchResults.css'\r\n\r\nimport apiCred from '../config/api'\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nconst Search = (props) => {\r\n\r\n    const classes = useStyles()\r\n\r\n    const [ searchString, setSearchString ] = useState()\r\n    const [ searchResults, setSearchResults ] = useState()\r\n    const [ likedBooks, setLikedBooks ] = useState('')\r\n\r\n    const validateForm = () => {\r\n        if(!searchString){\r\n            return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n\r\n    const handleSearch = async (e) => {\r\n        e.preventDefault()\r\n        try{\r\n            const response = await axios(`https://www.googleapis.com/books/v1/volumes?q=${searchString}&keys:${apiCred.key}`,  {\r\n            withCredentials: false })\r\n        console.log(response.data)\r\n        const bookArray = response.data.items\r\n        bookArray.map(bookInfo => {\r\n            let book = bookInfo.volumeInfo\r\n            console.log(book)\r\n            return book\r\n        })\r\n        setSearchResults(bookArray)\r\n        }catch(err){\r\n            if(err){\r\n                props.onError(err.response.data.error)\r\n             }\r\n        }\r\n        \r\n    }\r\n\r\n    const handleError = (data) => {\r\n        props.onError(data)\r\n    }\r\n    const handleNotification = (data) => {\r\n        props.onNotification(data)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchLikedBooks = async () => {\r\n            try{\r\n                const response = await axios('https://read-it-react.herokuapp.com/getBooksInLibrary')\r\n            // console.log(response.data)\r\n                setLikedBooks(response.data)\r\n            \r\n            }catch(err){\r\n                if(err){\r\n                    props.onError(err.response.data.error)\r\n                 }\r\n            }\r\n            \r\n        }\r\n        \r\n       if(props.isAuthorized){\r\n        fetchLikedBooks()\r\n       } \r\n    },[props.isAuthorized])\r\n// TODO add review book button\r\n// TODO if user has liked book make heart filled \r\n\r\n    return(\r\n        <>\r\n        <h1>Search for Books</h1>\r\n        <form className=\"searchForm\">\r\n            <FormControl margin=\"normal\"  fullWidth>\r\n            <InputLabel htmlFor=\"search\">Search by Book Title</InputLabel>\r\n            <Input name=\"search\" type=\"text\" id=\"search\" autoComplete=\"search\" onChange={(e) => setSearchString(e.target.value)}/>\r\n          </FormControl>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit} onClick={(e)=> handleSearch(e)} >Search</Button>\r\n        </form>\r\n        <div className=\"searchResultContainer\">\r\n        {searchResults?\r\n            searchResults.map(result=> {\r\n                return <SearchResult {...result} key={result.volumeInfo.title+result.volumeInfo.id} disabled={validateForm} error={handleError} notification={handleNotification} likedBooks={likedBooks}/>\r\n            })\r\n        : null}\r\n        </div>\r\n           \r\n            \r\n        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default isAuthorized(Search)\r\n\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport isAuthorized from \"../auth/isAuthorized\";\r\nimport { Link, useParams  } from \"react-router-dom\";\r\nimport  '../css/reviewBook.css'\r\n\r\nimport axios from 'axios'\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel,\r\n    TextField\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white',\r\n      maxHeight: '40px'\r\n    },\r\n  }));\r\n\r\n\r\nconst ReviewBook = (props) => {\r\n\r\n    const classes = useStyles()\r\n\r\n    const [ book, setBook ] = useState()\r\n    const [ reviewText, setReviewText ] = useState()\r\n    const [ reviewTitle, setReviewTitle ] = useState()\r\n    const [ reviewRating, setReviewRating ] = useState()\r\n\r\n   let { id }= useParams()\r\n    // console.log(id)\r\n\r\n\r\n    useEffect(() => {\r\n        let isFetching = true\r\n        const fetchBook = async () => {\r\n          \r\n            const response = await axios(`https://www.googleapis.com/books/v1/volumes/${id}`, {withCredentials:false})\r\n            console.log(response.data)\r\n            if(isFetching){\r\n                setBook(response.data)\r\n            }\r\n        }\r\n\r\n        fetchBook()\r\n        return () => isFetching = false\r\n    },[id])\r\n\r\n    const handleClick = async (e) => {\r\n        e.preventDefault()\r\n        console.log('submit review')\r\n        try{\r\n            await axios.post('https://read-it-react.herokuapp.com/addReview', {\r\n            reviewText, \r\n            reviewRating,\r\n            bookID:id,\r\n            reviewTitle,\r\n            bookTitle: book.volumeInfo.title,\r\n            img: book.volumeInfo.imageLinks.smallThumbnail\r\n        })\r\n        props.onNotification('Review successfully posted')\r\n                props.history.push('/read_it/reviews')\r\n        }catch(err){\r\n            if(err){\r\n                props.onError(err.response.data.error)\r\n             }\r\n        }\r\n        \r\n    }\r\n\r\n    if(!id){\r\n        return (\r\n            props.history.push('/read_it/profile')\r\n        )\r\n    }\r\n\r\n    if(!props.isAuthorized){\r\n        return(\r\n            <div className=\"notAuthorized\">\r\n                <h1>Please login to review this book</h1>\r\n                <Link to=\"login\">Login</Link>\r\n            </div>\r\n            )\r\n    }\r\n    if(book){\r\n        \r\n    return (\r\n        <>\r\n        <Link to=\"/read_it/profile\">Back to Profile</Link>\r\n        \r\n        <div className=\"reviewForm\">\r\n      \r\n            <h1>Create Review of {book.volumeInfo.title}</h1>\r\n        \r\n            <img src={book.volumeInfo.imageLinks.smallThumbnail} alt={book.volumeInfo.title + 'cover image'}/>\r\n        \r\n            <form>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"title\">Title of Review</InputLabel>\r\n                <Input name=\"title\" type=\"text\" id=\"title\" onChange={(e) => setReviewTitle(e.target.value)}/>\r\n          </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"rating\">Rating</InputLabel>\r\n                <Input name=\"rating\" type=\"number\" id=\"rating\" onChange={(e) => setReviewRating(e.target.value)}/>\r\n          </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n                {/* <InputLabel htmlFor=\"review\">Review</InputLabel> */}\r\n                <TextField required\r\n          id=\"standard-textarea\"\r\n          label=\"Review\"\r\n          multiline\r\n  onChange={(e) => setReviewText(e.target.value)}/>\r\n          </FormControl>\r\n          \r\n            <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n             onClick={(e) => handleClick(e)}>Submit Review</Button>\r\n        </form>\r\n      \r\n        </div>\r\n        </>\r\n    )\r\n    }else{\r\n        return <h1>Review</h1>\r\n    }\r\n}\r\n\r\nexport default isAuthorized(ReviewBook)","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport '../css/review.css'\r\nimport Review from \"../components/Review\";\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nexport default function Reviews(props) {\r\n\r\n    const classes = useStyles()\r\n\r\n    const [ reviews, setReviews ] = useState()\r\n    const [ searchStr, setSearchStr ] = useState()\r\n    const [ clearSearch, setClearSearch ] = useState(false)\r\n\r\n    useEffect(() => {\r\n        let isFetching = true\r\n        const fetchReviews = async () => {\r\n            try{\r\n                const response = await axios('https://read-it-react.herokuapp.com/getReviews')\r\n                console.log(response.data)\r\n                if(isFetching){\r\n                    setReviews(response.data)\r\n                }\r\n            }catch(err){\r\n                if(err){\r\n                    props.onError(err.response.data.error)\r\n                 }\r\n            }\r\n           \r\n        } \r\n        fetchReviews()\r\n        return () => isFetching= false\r\n    },[props, clearSearch])\r\n\r\n    const handleDeleteReview = async (id) => {\r\n        try{\r\n            const response =  await axios.post('https://read-it-react.herokuapp.com/deleteReview', {id})\r\n        console.log(response.data)\r\n        props.onNotification(response.data.response)\r\n        const newReviewedBooks = reviews.filter(review => review.id !== id)\r\n        setReviews(newReviewedBooks)\r\n            \r\n        }catch(err){\r\n            if(err){\r\n                props.onError(err.response.data.error)                \r\n             }\r\n        }\r\n    }\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        if(searchStr){\r\n           const matches = reviews.filter(review => {\r\n               console.log(review)\r\n            if(review.book_title.toLowerCase().includes(searchStr.toLowerCase()) \r\n            || review.user.first_name.toLowerCase().includes(searchStr.toLowerCase()) \r\n            || review.user.last_name.toLowerCase().includes(searchStr.toLowerCase()) ){\r\n                return review\r\n            }\r\n        })\r\n        console.log(matches.length)\r\n        if(matches.length === 0){\r\n            console.log(matches)\r\n            props.onError('No reviews match your search')\r\n            return\r\n        }else{\r\n            setReviews(matches)\r\n\r\n        }\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"reviewsWrapper\">\r\n            <h1>Reviews</h1>\r\n                {searchStr? <div className=\"clearBtn btn\" onClick={() => setClearSearch(true)}>Clear Search</div>:null}\r\n            <form className=\"searchForm\">\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                    <InputLabel htmlFor=\"searchStr\">Search for Reviews</InputLabel>\r\n                    <Input name=\"searchStr\" type=\"text\" id=\"searchStr\"  onChange={(e) => setSearchStr(e.target.value)}/>\r\n                </FormControl>\r\n                <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    className={classes.submit}\r\n                    onClick={(e)=> handleSubmit(e)}\r\n                    >Search</Button>\r\n            </form>\r\n            {reviews ? \r\n            reviews.map(review => {\r\n                return <Review {...review} key={review.id} onDelete={handleDeleteReview}/>                \r\n            })\r\n        : null}\r\n        \r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from \"react\"\r\nimport axios from \"axios\"\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nconst ForgotPassword = (props) => {\r\n    const classes = useStyles()\r\n\r\n   const [ email, setEmail ] = useState()\r\n\r\n    const handleSubmitEmail = async (e) => {\r\n        e.preventDefault()\r\n        try{\r\n            const response = await axios.post('https://read-it-react.herokuapp.com/sendResetLink', { email })\r\n            if(response.data.response){\r\n                props.onNotification('email sent')\r\n                props.history.push('/')\r\n            }\r\n        }catch(err){\r\n            if(err){\r\n                console.log(err) \r\n                props.onError(err.response.data.error)\r\n         }\r\n        }\r\n  \r\n    }\r\n\r\n\r\n    return(\r\n        \r\n        <form>\r\n        <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n            <Input id=\"email\" name=\"email\" autoComplete=\"email\" autoFocus onChange={(e) => setEmail(e.target.value)} />\r\n          </FormControl>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={(e)=>handleSubmitEmail(e)}>Send Email</Button>\r\n        </form>\r\n        \r\n    )\r\n}\r\n\r\n\r\nexport default ForgotPassword\r\n\r\n","import React, { useState } from \"react\";\r\nimport axios from 'axios'\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nconst ResetPassword = ( props) => {\r\n    const classes = useStyles()\r\n\r\n    const [ newPassword, setNewPassword ] = useState()\r\n    const [ newRepeatPassword, setRepeatPassword ] = useState()\r\n\r\n  \r\n    // console.log()\r\n    const handleSubmit = async (e) => {\r\n        console.log(\"click\")\r\n        e.preventDefault()\r\n        if(!newPassword || !newRepeatPassword){\r\n            props.onError('Missing fields')\r\n            return\r\n        }\r\n        if(newPassword !== newRepeatPassword){\r\n            props.onError('Passwords dont match')\r\n            return\r\n        }\r\n        try{ \r\n            console.log('try')\r\n            const response = await axios.post('https://read-it-react.herokuapp.com/resetpassword', {\r\n            token: props.match.params.token,\r\n            newPassword,\r\n            newRepeatPassword\r\n        })\r\n        console.log(response.data)\r\n        if(response.data.response){\r\n            const str = response.data.response.stoUpperCase()\r\n            props.onNotification(str)\r\n        }\r\n        }catch(err){\r\n            props.onError(err.response.data.error)\r\n        }\r\n       \r\n        \r\n}\r\n\r\n    return(\r\n        <>\r\n        <form>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"newPassword\">New Password</InputLabel>\r\n                <Input name=\"newPassword\" type=\"password\" id=\"newPassword\"  onChange={(e) => setNewPassword(e.target.value)}/>\r\n          </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"newRepeatPassword\">Repeat New Password</InputLabel>\r\n                <Input name=\"newRepeatPassword\" type=\"password\" id=\"newRepeatPassword\"  onChange={(e) => setRepeatPassword(e.target.value)}/>\r\n          </FormControl>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={(e)=> handleSubmit(e)}\r\n            >Set new Password</Button>\r\n    </form>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default ResetPassword;","import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useHistory} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport '../css/bookDetail.css'\r\nimport parse from 'html-react-parser';\r\nimport Review from \"../components/Review\";\r\n\r\nconst BookDetail = (props) => {\r\n\r\n    let { id }= useParams()\r\n    \r\n    let history = useHistory()\r\n\r\n   \r\n    const [ book, setBook ] = useState()\r\n    const [ reviews, setReviews ] = useState()\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n        let isFetching = true\r\n        const fetchBook= async () => {\r\n            try{\r\n               const response =  await axios(`https://www.googleapis.com/books/v1/volumes/${id}`, { withCredentials: false })\r\n                if(isFetching){\r\n                    setBook(response.data)\r\n                }\r\n            }catch(err){\r\n                props.onError(err.response.data.error)\r\n            }\r\n        }\r\n        const fetchReviews = async () => {\r\n            try{\r\n                const response = await axios (`https://read-it-react.herokuapp.com/getSingleBookReviews/${id}`)\r\n                console.log(response.data)\r\n                if(isFetching){\r\n                    setReviews(response.data)\r\n                } // && response.data.length\r\n            }catch(err){\r\n                props.onError(err.response.data.error)\r\n            }\r\n        }\r\n        fetchBook()\r\n        fetchReviews()\r\n        return () => isFetching = false\r\n    }, [props, id])\r\n\r\n\r\n\r\nif(!book){\r\n    return <div className=\"loader\">Loading...</div>\r\n}\r\n\r\nconsole.log(history)\r\nconsole.log(book)\r\n    return (\r\n        <>\r\n        <button className=\"link\" onClick={() => history.goBack()}>Back</button>\r\n        <div className=\"bookDetail\">\r\n            <div>\r\n                <h1>{book.volumeInfo.title}</h1>\r\n                <h2>{book.volumeInfo.subtitle}</h2>\r\n            </div>\r\n            <img src={book.volumeInfo.imageLinks.smallThumbnail} alt=\"book cover\"/>\r\n            <div className=\"pub-authors\">\r\n                <div>\r\n                {book.volumeInfo.authors? book.volumeInfo.authors.map((author, index) => {\r\n                        // console.log(author)\r\n                        return <h4 key={author+index}> By: {author}</h4>\r\n                    }) : null }\r\n                </div>\r\n                <div>\r\n                    <p>Published: {new Date(book.volumeInfo.publishedDate).toDateString().slice(4,15)}</p>\r\n                    <p>Published by: <strong>{book.volumeInfo.publisher}</strong></p>\r\n                </div>\r\n            </div>\r\n            {book.volumeInfo.description? <div>{parse(book.volumeInfo.description)}</div>: null}\r\n        \r\n            <a href={book.volumeInfo.infoLink}>More Information</a>\r\n        </div>\r\n        <div className=\"reviews\">\r\n            <h2>Reviews</h2>\r\n            {reviews ? \r\n            reviews.map(review => {\r\n               return <Review {...review} key={review.id}/>\r\n            })\r\n        : null}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default BookDetail","import React from 'react'\r\n\r\nconst Error = (props) => {\r\n// console.log(props)\r\n    return(\r\n        <div className=\"error\">\r\n            <h3>{props.error}</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error;","import React from 'react'\r\n\r\nconst Notification = (props) => {\r\n// console.log(props)\r\n    return(\r\n        <div>\r\n            <h3>{props.notification}</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, NavLink, Switch  } from 'react-router-dom';\nimport './App.css';\n\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Logout from './components/Logout';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport axios from 'axios';\n\n// import apiCred from './config/api' \nimport theme from './components/theme';\nimport Profile from './pages/Profile';\nimport Search from './pages/Search';\n\nimport ReviewBook from './pages/ReviewBook';\nimport Reviews from './pages/Reviews';\nimport isAuthorized from './auth/isAuthorized';\nimport ForgotPassword from './pages/ForgotPassword';\nimport ResetPassword from './pages/ResetPassword';\nimport BookDetail from './pages/BookDetail';\nimport Error from './components/Error';\nimport Notification from './components/Notification';\n\naxios.defaults.withCredentials = true;\n\n\nconst App = (props) => {\n  const [ error, setError ] = useState()\n  const [ notification, setNotification ] = useState()\n  const [ isLoggedIn, setLoggedInStatus ] = useState(false)\n\n  useEffect(() => {\n    if(props.isAuthorized){\n     setLoggedInStatus(true)\n    }\n  }, [props.isAuthorized])\n\n  const clearError = () => {\n    setTimeout(() => {\n        setError()\n    }, 2500)\n}\n  const clearNotification = () => {\n    setTimeout(() => {\n      setNotification()\n    },2500)\n  }\n  const handleAction = (newStatus) => {\n    console.log(newStatus)\n    setLoggedInStatus(newStatus)\n}\n  const handleError = (errorMsg) => {\n    setError(errorMsg)\n    clearError()\n  }\n  const handleNotification = (notificationMsg) =>{\n    setNotification(notificationMsg)\n    clearNotification()\n  }\n \n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme} >\n      <Router>\n        <nav>\n          <li className=\"logo\">READ IT</li>\n          <NavLink activeClassName=\"active\" exact to= \"/read_it\">Home</NavLink>\n          <NavLink activeClassName=\"active\" to= \"/read_it/reviews\">Reviews</NavLink>\n          <NavLink activeClassName=\"active\" to= \"/read_it/signup\">Sign up</NavLink>\n          {!isLoggedIn? <NavLink activeClassName=\"active\" to= \"/read_it/login\">Log in</NavLink>:null}\n          {isLoggedIn? <NavLink activeClassName=\"active\" to= \"/read_it/profile\">Profile</NavLink> :null}\n          {isLoggedIn? <Logout  onLogout={handleAction} onNotification={handleNotification} onError={handleError}/>: null}\n        </nav>\n      \n     <main>\n     <div className={error? 'show errorWrapper': 'errorWrapper'}>\n            <Error error={error} />\n        </div>\n        <div className={notification? 'show notificationWrapper': 'notificationWrapper'}>\n            <Notification notification={notification} />\n        </div>\n      <Switch>\n        <Route exact path=\"/read_it/\"\n        component={() => <Search onError={handleError} onNotification={handleNotification} />}/>\n       \n        <Route exact path=\"/read_it/bookdetail/:id\"\n        component={() => <BookDetail {...props} onError={handleError} onNotification={handleNotification}/>}/>\n\n        <Route path=\"/read_it/signup\"  \n        component={(props) => <Signup {...props} onError={handleError} onNotification={handleNotification}/>}/>\n\n        <Route path=\"/read_it/login\"  \n        component={(props) => <Login {...props} onError={handleError} onLogin={handleAction}  onNotification={handleNotification} />}/>\n\n        <Route path=\"/read_it/profile\"  \n        component={(props) => <Profile  {...props} onError={handleError} onNotification={handleNotification}/>}/>\n\n        <Route path=\"/read_it/reviews\"  \n        component={(props) => <Reviews {...props} onError={handleError} onNotification={handleNotification} />}/>\n\n        <Route path=\"/read_it/reviewbook/:id\"\n        component={(props) => <ReviewBook {...props} onError={handleError} onNotification={handleNotification} />} />\n        \n        <Route path=\"/read_it/forgotpassword\"\n        component={(props) => <ForgotPassword {...props} onError={handleError} onNotification={handleNotification} />} />\n\n        <Route path=\"/read_it/resetpassword/:token\"\n        component={(props) => <ResetPassword {...props} onError={handleError} onNotification={handleNotification}  />} />\n        \n        \n      </Switch>\n      </main>\n    </Router>\n    </ThemeProvider>\n    </div>\n  );\n}\n\nexport default isAuthorized(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = {\r\n    key: \"AIzaSyB3gDTDat8kpQvBZBW2z8B7ye2a_c0RbzI\"\r\n}"],"sourceRoot":""}