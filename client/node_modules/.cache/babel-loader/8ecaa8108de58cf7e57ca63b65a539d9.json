{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\src\\\\pages\\\\ResetPassword.js\";\nimport React, { useState } from \"react\";\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/styles';\nimport { Button, FormControl, Input, InputLabel } from '@material-ui/core';\nconst useStyles = makeStyles(theme => ({\n  submit: {\n    marginTop: theme.spacing * 3,\n    justifySelf: 'center',\n    color: 'white'\n  }\n}));\n\nconst ResetPassword = props => {\n  const classes = useStyles();\n  const [newPassword, setNewPassword] = useState();\n  const [newRepeatPassword, setRepeatPassword] = useState(); // console.log()\n\n  const handleSubmit = async e => {\n    console.log(\"click\");\n    e.preventDefault();\n\n    if (!newPassword || !newRepeatPassword) {\n      props.onError('Missing fields');\n      return;\n    }\n\n    if (newPassword !== newRepeatPassword) {\n      props.onError('Passwords dont match');\n      return;\n    }\n\n    try {\n      console.log('try');\n      const response = await axios.post('http://localhost/resetpassword', {\n        token: props.match.params.token,\n        newPassword,\n        newRepeatPassword\n      });\n      console.log(response.data);\n\n      if (response.data.response) {\n        const str = response.data.response.stoUpperCase();\n        props.onNotification(str);\n      }\n    } catch (err) {\n      props.onError(err.response.data.error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"newPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"New Password\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"newPassword\",\n    type: \"password\",\n    id: \"newPassword\",\n    onChange: e => setNewPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"newRepeatPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"Repeat New Password\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"newRepeatPassword\",\n    type: \"password\",\n    id: \"newRepeatPassword\",\n    onChange: e => setRepeatPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.submit,\n    onClick: e => handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Set new Password\")));\n};\n\nexport default ResetPassword;","map":{"version":3,"sources":["C:/Users/elÃ­sabet/Documents/web-dev/react/react_final_exam/client/src/pages/ResetPassword.js"],"names":["React","useState","axios","makeStyles","Button","FormControl","Input","InputLabel","useStyles","theme","submit","marginTop","spacing","justifySelf","color","ResetPassword","props","classes","newPassword","setNewPassword","newRepeatPassword","setRepeatPassword","handleSubmit","e","console","log","preventDefault","onError","response","post","token","match","params","data","str","stoUpperCase","onNotification","err","error","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from 'axios'\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nconst ResetPassword = ( props) => {\r\n    const classes = useStyles()\r\n\r\n    const [ newPassword, setNewPassword ] = useState()\r\n    const [ newRepeatPassword, setRepeatPassword ] = useState()\r\n\r\n  \r\n    // console.log()\r\n    const handleSubmit = async (e) => {\r\n        console.log(\"click\")\r\n        e.preventDefault()\r\n        if(!newPassword || !newRepeatPassword){\r\n            props.onError('Missing fields')\r\n            return\r\n        }\r\n        if(newPassword !== newRepeatPassword){\r\n            props.onError('Passwords dont match')\r\n            return\r\n        }\r\n        try{ \r\n            console.log('try')\r\n            const response = await axios.post('http://localhost/resetpassword', {\r\n            token: props.match.params.token,\r\n            newPassword,\r\n            newRepeatPassword\r\n        })\r\n        console.log(response.data)\r\n        if(response.data.response){\r\n            const str = response.data.response.stoUpperCase()\r\n            props.onNotification(str)\r\n        }\r\n        }catch(err){\r\n            props.onError(err.response.data.error)\r\n        }\r\n       \r\n        \r\n}\r\n\r\n    return(\r\n        <>\r\n        <form>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"newPassword\">New Password</InputLabel>\r\n                <Input name=\"newPassword\" type=\"password\" id=\"newPassword\"  onChange={(e) => setNewPassword(e.target.value)}/>\r\n          </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"newRepeatPassword\">Repeat New Password</InputLabel>\r\n                <Input name=\"newRepeatPassword\" type=\"password\" id=\"newRepeatPassword\"  onChange={(e) => setRepeatPassword(e.target.value)}/>\r\n          </FormControl>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={(e)=> handleSubmit(e)}\r\n            >Set new Password</Button>\r\n    </form>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default ResetPassword;"]},"metadata":{},"sourceType":"module"}