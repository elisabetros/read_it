{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{BsFillStarFill,BsPencilSquare,BsFillTrashFill}from'react-icons/bs';import{Link}from\"react-router-dom\";import isAuthorized from\"../auth/isAuthorized\";import axios from'axios';import{makeStyles}from'@material-ui/styles';import{Button,FormControl,Input,InputLabel,TextField}from'@material-ui/core';var useStyles=makeStyles(function(theme){return{submit:{marginTop:theme.spacing*3,justifySelf:'center',color:'white'},delete:{backgroundColor:'rgb(61, 60, 60)',color:'white'}};});var Review=function Review(props){var classes=useStyles();var _useState=useState(props.rating),_useState2=_slicedToArray(_useState,2),newReviewRating=_useState2[0],setNewReviewRating=_useState2[1];var _useState3=useState(props.title),_useState4=_slicedToArray(_useState3,2),newReviewTitle=_useState4[0],setNewReviewTitle=_useState4[1];var _useState5=useState(props.review),_useState6=_slicedToArray(_useState5,2),newReviewText=_useState6[0],setNewReviewText=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),editModel=_useState8[0],setEditModel=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),deleteModel=_useState10[0],setDeleteModel=_useState10[1];var showDeleteModel=function showDeleteModel(){console.log('delete');return/*#__PURE__*/React.createElement(\"div\",{className:\"model\"},/*#__PURE__*/React.createElement(\"div\",{className:\"model-content\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Are you sure you want to delete this review?\"),/*#__PURE__*/React.createElement(\"p\",null,\"This action cannot be reversed\"),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",className:classes.delete,onClick:deleteReview},\"Delete\"),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,color:\"secondary\",variant:\"contained\",className:classes.submit,onClick:function onClick(){return setDeleteModel(false);}},\"Cancel\")));};var deleteReview=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:props.onDelete(props.id);setDeleteModel(false);setEditModel(false);case 3:case\"end\":return _context.stop();}}},_callee);}));return function deleteReview(){return _ref.apply(this,arguments);};}();var showEditModel=function showEditModel(){// const review = reviewedBooks.find(review => review.id === id)\nconsole.log(props);return/*#__PURE__*/React.createElement(\"div\",{className:\"model\"},/*#__PURE__*/React.createElement(\"div\",{className:\"model-content\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn\",onClick:function onClick(){return setEditModel(false);}},\"X\"),/*#__PURE__*/React.createElement(\"h3\",null,\"Edit Your Review\"),/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",fullWidth:true},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"title\"},\"Title of Review\"),/*#__PURE__*/React.createElement(Input,{name:\"title\",type:\"text\",defaultValue:props.title,id:\"title\",onChange:function onChange(e){return setNewReviewTitle(e.target.value);}})),/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",fullWidth:true},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"rating\"},\"Rating\"),/*#__PURE__*/React.createElement(Input,{name:\"rating\",type:\"number\",defaultValue:props.rating,id:\"rating\",onChange:function onChange(e){return setNewReviewRating(e.target.value);}})),/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",fullWidth:true},/*#__PURE__*/React.createElement(TextField,{id:\"standard-textarea\",defaultValue:props.review,label:\"Review\",multiline:true,onChange:function onChange(e){return setNewReviewText(e.target.value);}})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"secondary\",className:classes.submit,onClick:function onClick(e){return handleEditReview(e);}},\"Submit Changes\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dltBtn btn\",onClick:function onClick(){return setDeleteModel(true);}},/*#__PURE__*/React.createElement(BsFillTrashFill,null),\"Delete Review\")));};var handleEditReview=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(newReviewRating||newReviewText||newReviewTitle)){_context2.next=12;break;}_context2.prev=1;_context2.next=4;return axios.post('https://read-it-react.herokuapp.com/updateReview',{reviewID:props.id,newReviewTitle:newReviewTitle,newReviewText:newReviewText,newReviewRating:newReviewRating});case 4:response=_context2.sent;console.log(response.data);setEditModel(false);_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);if(_context2.t0){console.log(_context2.t0);}case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function handleEditReview(){return _ref2.apply(this,arguments);};}();var checkUser=function checkUser(){if(props.userID===props.user_id){return/*#__PURE__*/React.createElement(\"div\",{className:\"btn\",onClick:function onClick(e){return setEditModel(props.id);}},/*#__PURE__*/React.createElement(BsPencilSquare,null),\"Edit Review\");}};console.log(props);var showRating=function showRating(){var ratingArray=[];for(var i=0;i<parseInt(props.rating);i++){ratingArray.push(/*#__PURE__*/React.createElement(BsFillStarFill,{key:i}));}return ratingArray;};return/*#__PURE__*/ (// {props.review?\nReact.createElement(React.Fragment,null,editModel?showEditModel(editModel):null,/*#__PURE__*/React.createElement(\"div\",{className:\"review\",key:props.id},/*#__PURE__*/React.createElement(\"div\",{className:\"link-editBtn\"},/*#__PURE__*/React.createElement(Link,{to:\"bookdetail/\"+props.book_id},\"About \",props.book_title),checkUser()),/*#__PURE__*/React.createElement(\"div\",{className:\"pub-authors\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",null,props.book_title),/*#__PURE__*/React.createElement(\"p\",null,\"Review by \",props.user.first_name,\" \",props.user.last_name)),/*#__PURE__*/React.createElement(\"div\",{className:\"rating\"},\" \",showRating())),/*#__PURE__*/React.createElement(\"img\",{src:props.img,alt:\"book cover\"}),/*#__PURE__*/React.createElement(\"h3\",null,props.title),/*#__PURE__*/React.createElement(\"p\",null,props.review),deleteModel?showDeleteModel():null)));};export default isAuthorized(Review);","map":{"version":3,"sources":["C:/Users/elÃ­sabet/Documents/web-dev/react/react_final_exam/client/src/components/Review.js"],"names":["React","useState","BsFillStarFill","BsPencilSquare","BsFillTrashFill","Link","isAuthorized","axios","makeStyles","Button","FormControl","Input","InputLabel","TextField","useStyles","theme","submit","marginTop","spacing","justifySelf","color","delete","backgroundColor","Review","props","classes","rating","newReviewRating","setNewReviewRating","title","newReviewTitle","setNewReviewTitle","review","newReviewText","setNewReviewText","editModel","setEditModel","deleteModel","setDeleteModel","showDeleteModel","console","log","deleteReview","onDelete","id","showEditModel","e","target","value","handleEditReview","post","reviewID","response","data","checkUser","userID","user_id","showRating","ratingArray","i","parseInt","push","book_id","book_title","user","first_name","last_name","img"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { BsFillStarFill, BsPencilSquare, BsFillTrashFill } from 'react-icons/bs'\r\nimport { Link } from \"react-router-dom\";\r\nimport isAuthorized from \"../auth/isAuthorized\";\r\n\r\nimport axios from 'axios';\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel,\r\n    TextField\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    submit: {\r\n     marginTop: theme.spacing * 3,\r\n     justifySelf: 'center',\r\n     color:'white'\r\n   },\r\n   delete: {\r\n       backgroundColor: 'rgb(61, 60, 60)',\r\n       color:'white'\r\n   }\r\n }));\r\n\r\nconst Review = (props) => {\r\n\r\n    const classes = useStyles()\r\n\r\n    const [ newReviewRating, setNewReviewRating] = useState(props.rating)\r\n    const [ newReviewTitle, setNewReviewTitle] = useState(props.title)\r\n    const [ newReviewText, setNewReviewText] = useState(props.review)    \r\n    const [ editModel, setEditModel ] = useState(false)\r\n    const [ deleteModel, setDeleteModel ] = useState(false)\r\n\r\n    const showDeleteModel = () => {\r\n        console.log('delete')\r\n        return(\r\n            <div className=\"model\">\r\n                <div className=\"model-content\">\r\n                <h2>Are you sure you want to delete this review?</h2>\r\n                <p>This action cannot be reversed</p>\r\n                 <Button type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    className={classes.delete}  \r\n                    onClick={deleteReview}>Delete</Button> \r\n                <Button type=\"submit\"\r\n                    fullWidth\r\n                    color=\"secondary\"\r\n                    variant=\"contained\"\r\n                    className={classes.submit}  \r\n                    onClick={()=>setDeleteModel(false)}>Cancel</Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    const deleteReview = async () => {\r\n       props.onDelete(props.id)\r\n       setDeleteModel(false)\r\n           setEditModel(false)\r\n    }\r\n    const showEditModel = () => {\r\n        // const review = reviewedBooks.find(review => review.id === id)\r\n        console.log(props)\r\n        return(<div className=\"model\">\r\n            <div className=\"model-content\">\r\n            <span className=\"btn\" onClick={() => setEditModel(false)}>X</span>\r\n            <h3>Edit Your Review</h3>\r\n            <FormControl margin=\"normal\"  fullWidth>\r\n                <InputLabel htmlFor=\"title\">Title of Review</InputLabel>\r\n                <Input name=\"title\" type=\"text\"\r\n                defaultValue={props.title} \r\n                 id=\"title\" \r\n                 onChange={(e) => setNewReviewTitle(e.target.value)}/>\r\n          </FormControl>\r\n            <FormControl margin=\"normal\"  fullWidth>\r\n                <InputLabel htmlFor=\"rating\">Rating</InputLabel>\r\n                <Input name=\"rating\" type=\"number\" \r\n                defaultValue={props.rating}\r\n                id=\"rating\" \r\n                onChange={(e) => setNewReviewRating(e.target.value)}/>\r\n          </FormControl>\r\n            <FormControl margin=\"normal\"  fullWidth>\r\n                <TextField \r\n                    id=\"standard-textarea\"\r\n                    defaultValue={props.review}\r\n                    label=\"Review\"\r\n                    multiline\r\n  onChange={(e) => setNewReviewText(e.target.value)}/>\r\n          </FormControl>\r\n          \r\n            <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n             onClick={(e) => handleEditReview(e)}>Submit Changes</Button>\r\n             \r\n             <div className=\"dltBtn btn\" onClick={() => setDeleteModel(true)}><BsFillTrashFill />Delete Review</div>\r\n            </div>\r\n        </div>)\r\n    }\r\n    \r\n\r\n    const handleEditReview = async () => {\r\n        if(newReviewRating || newReviewText || newReviewTitle){\r\n            try{\r\n                const response = await axios.post('https://read-it-react.herokuapp.com/updateReview',{\r\n                    reviewID:props.id,\r\n                     newReviewTitle, \r\n                     newReviewText,\r\n                     newReviewRating\r\n                })\r\n                console.log(response.data)\r\n                setEditModel(false)\r\n            }catch(err){\r\n                if(err){\r\n                    console.log(err)\r\n\r\n        }\r\n        }\r\n    }\r\n}\r\n\r\n    const checkUser = () => {\r\n        if(props.userID === props.user_id){\r\n            return   <div className=\"btn\" onClick={(e) => setEditModel(props.id)}><BsPencilSquare/>Edit Review</div>\r\n        }\r\n    }\r\n\r\n    console.log(props)\r\n    const showRating = () => {\r\n        let ratingArray = []\r\n        for(let i= 0; i< parseInt(props.rating); i++){\r\n            ratingArray.push(<BsFillStarFill key={i}/>)\r\n        }\r\n        return ratingArray\r\n    }\r\n      return(\r\n        // {props.review?\r\n        <>\r\n        {editModel? showEditModel(editModel) :null}\r\n         <div className=\"review\" key={props.id}>\r\n             <div className=\"link-editBtn\">\r\n             <Link to={\"bookdetail/\"+props.book_id}>About {props.book_title}</Link>\r\n             {checkUser()}\r\n             </div>\r\n            <div className=\"pub-authors\"> \r\n                <div>\r\n                <h5>{props.book_title}</h5>\r\n                <p>Review by {props.user.first_name} {props.user.last_name}</p>\r\n                </div>\r\n                 <div className=\"rating\"> {showRating()}</div>\r\n            </div>\r\n            <img src={props.img} alt=\"book cover\"/>\r\n            <h3>{props.title}</h3>\r\n            <p>{props.review}</p>\r\n            {deleteModel? showDeleteModel(): null}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default isAuthorized(Review)"]},"metadata":{},"sourceType":"module"}