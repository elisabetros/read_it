{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, NavLink, Switch } from 'react-router-dom';\nimport './App.css';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Logout from './components/Logout';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport axios from 'axios'; // import apiCred from './config/api' \n\nimport theme from './components/theme';\nimport Profile from './pages/Profile';\nimport Search from './pages/Search';\nimport ReviewBook from './pages/ReviewBook';\nimport Reviews from './pages/Reviews';\nimport isAuthorized from './auth/isAuthorized';\nimport ForgotPassword from './pages/ForgotPassword';\nimport ResetPassword from './pages/ResetPassword';\nimport BookDetail from './pages/BookDetail';\nimport Error from './components/Error';\nimport Notification from './components/Notification';\naxios.defaults.withCredentials = true;\n\nconst App = props => {\n  const [error, setError] = useState();\n  const [notification, setNotification] = useState();\n  const [isLoggedIn, setLoggedInStatus] = useState(false);\n  useEffect(() => {\n    if (props.isAuthorized) {\n      setLoggedInStatus(true);\n    }\n  }, [props]);\n\n  const clearError = () => {\n    setTimeout(() => {\n      setError();\n    }, 2500);\n  };\n\n  const clearNotification = () => {\n    setTimeout(() => {\n      setNotification();\n    }, 2500);\n  };\n\n  const handleAction = newStatus => {\n    console.log(newStatus);\n    setLoggedInStatus(newStatus);\n  };\n\n  const handleError = errorMsg => {\n    setError(errorMsg);\n    clearError();\n  };\n\n  const handleNotification = notificationMsg => {\n    setNotification(notificationMsg);\n    clearNotification();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"READ IT\"), /*#__PURE__*/React.createElement(NavLink, {\n    activeClassName: \"active\",\n    exact: true,\n    to: \"/read_id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/read_it/reviews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Reviews\"), /*#__PURE__*/React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/read_it/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"Sign up\"), !isLoggedIn ? /*#__PURE__*/React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/read_it/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, \"Log in\") : null, isLoggedIn ? /*#__PURE__*/React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/read_it/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 24\n    }\n  }, \"Profile\") : null, isLoggedIn ? /*#__PURE__*/React.createElement(Logout, {\n    onLogout: handleAction,\n    onNotification: handleNotification,\n    onError: handleError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 24\n    }\n  }) : null), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: error ? 'show errorWrapper' : 'errorWrapper',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Error, {\n    error: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: notification ? 'show notificationWrapper' : 'notificationWrapper',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Notification, {\n    notification: notification,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/read_it/\",\n    component: () => /*#__PURE__*/React.createElement(Search, {\n      onError: handleError,\n      onNotification: handleNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 26\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/read_it/bookdetail/:id\",\n    component: () => /*#__PURE__*/React.createElement(BookDetail, Object.assign({}, props, {\n      onError: handleError,\n      onNotification: handleNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 26\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/read_it/signup\",\n    component: props => /*#__PURE__*/React.createElement(Signup, Object.assign({}, props, {\n      onError: handleError,\n      onNotification: handleNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 31\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/read_it/login\",\n    component: props => /*#__PURE__*/React.createElement(Login, Object.assign({}, props, {\n      onError: handleError,\n      onLogin: handleAction,\n      onNotification: handleNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 31\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/read_it/profile\",\n    component: props => /*#__PURE__*/React.createElement(Profile, Object.assign({}, props, {\n      onError: handleError,\n      onNotification: handleNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 31\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/read_it/reviews\",\n    component: props => /*#__PURE__*/React.createElement(Reviews, Object.assign({}, props, {\n      onError: handleError,\n      onNotification: handleNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 31\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/read_it/reviewbook/:id\",\n    component: props => /*#__PURE__*/React.createElement(ReviewBook, Object.assign({}, props, {\n      onError: handleError,\n      onNotification: handleNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 31\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/read_it/forgotpassword\",\n    component: props => /*#__PURE__*/React.createElement(ForgotPassword, Object.assign({}, props, {\n      onError: handleError,\n      onNotification: handleNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 31\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/read_it/resetpassword/:token\",\n    component: props => /*#__PURE__*/React.createElement(ResetPassword, Object.assign({}, props, {\n      onError: handleError,\n      onNotification: handleNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 31\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }))))));\n};\n\nexport default isAuthorized(App);","map":{"version":3,"sources":["C:/Users/elísabet/Documents/web-dev/react/react_final_exam/client/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","NavLink","Switch","Signup","Login","Logout","ThemeProvider","axios","theme","Profile","Search","ReviewBook","Reviews","isAuthorized","ForgotPassword","ResetPassword","BookDetail","Error","Notification","defaults","withCredentials","App","props","error","setError","notification","setNotification","isLoggedIn","setLoggedInStatus","clearError","setTimeout","clearNotification","handleAction","newStatus","console","log","handleError","errorMsg","handleNotification","notificationMsg"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, NavLink, Switch  } from 'react-router-dom';\nimport './App.css';\n\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Logout from './components/Logout';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport axios from 'axios';\n\n// import apiCred from './config/api' \nimport theme from './components/theme';\nimport Profile from './pages/Profile';\nimport Search from './pages/Search';\n\nimport ReviewBook from './pages/ReviewBook';\nimport Reviews from './pages/Reviews';\nimport isAuthorized from './auth/isAuthorized';\nimport ForgotPassword from './pages/ForgotPassword';\nimport ResetPassword from './pages/ResetPassword';\nimport BookDetail from './pages/BookDetail';\nimport Error from './components/Error';\nimport Notification from './components/Notification';\n\naxios.defaults.withCredentials = true;\n\n\nconst App = (props) => {\n  const [ error, setError ] = useState()\n  const [ notification, setNotification ] = useState()\n  const [ isLoggedIn, setLoggedInStatus ] = useState(false)\n\n  useEffect(() => {\n    if(props.isAuthorized){\n     setLoggedInStatus(true)\n    }\n  }, [props])\n\n  const clearError = () => {\n    setTimeout(() => {\n        setError()\n    }, 2500)\n}\n  const clearNotification = () => {\n    setTimeout(() => {\n      setNotification()\n    },2500)\n  }\n  const handleAction = (newStatus) => {\n    console.log(newStatus)\n    setLoggedInStatus(newStatus)\n}\n  const handleError = (errorMsg) => {\n    setError(errorMsg)\n    clearError()\n  }\n  const handleNotification = (notificationMsg) =>{\n    setNotification(notificationMsg)\n    clearNotification()\n  }\n \n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme} >\n      <Router>\n        <nav>\n          <li className=\"logo\">READ IT</li>\n          <NavLink activeClassName=\"active\" exact to= \"/read_id\">Home</NavLink>\n          <NavLink activeClassName=\"active\" to= \"/read_it/reviews\">Reviews</NavLink>\n          <NavLink activeClassName=\"active\" to= \"/read_it/signup\">Sign up</NavLink>\n          {!isLoggedIn? <NavLink activeClassName=\"active\" to= \"/read_it/login\">Log in</NavLink>:null}\n          {isLoggedIn? <NavLink activeClassName=\"active\" to= \"/read_it/profile\">Profile</NavLink> :null}\n          {isLoggedIn? <Logout  onLogout={handleAction} onNotification={handleNotification} onError={handleError}/>: null}\n        </nav>\n      \n     <main>\n     <div className={error? 'show errorWrapper': 'errorWrapper'}>\n            <Error error={error} />\n        </div>\n        <div className={notification? 'show notificationWrapper': 'notificationWrapper'}>\n            <Notification notification={notification} />\n        </div>\n      <Switch>\n        <Route exact path=\"/read_it/\"\n        component={() => <Search onError={handleError} onNotification={handleNotification} />}/>\n       \n        <Route exact path=\"/read_it/bookdetail/:id\"\n        component={() => <BookDetail {...props} onError={handleError} onNotification={handleNotification}/>}/>\n\n        <Route path=\"/read_it/signup\"  \n        component={(props) => <Signup {...props} onError={handleError} onNotification={handleNotification}/>}/>\n\n        <Route path=\"/read_it/login\"  \n        component={(props) => <Login {...props} onError={handleError} onLogin={handleAction}  onNotification={handleNotification} />}/>\n\n        <Route path=\"/read_it/profile\"  \n        component={(props) => <Profile  {...props} onError={handleError} onNotification={handleNotification}/>}/>\n\n        <Route path=\"/read_it/reviews\"  \n        component={(props) => <Reviews {...props} onError={handleError} onNotification={handleNotification} />}/>\n\n        <Route path=\"/read_it/reviewbook/:id\"\n        component={(props) => <ReviewBook {...props} onError={handleError} onNotification={handleNotification} />} />\n        \n        <Route path=\"/read_it/forgotpassword\"\n        component={(props) => <ForgotPassword {...props} onError={handleError} onNotification={handleNotification} />} />\n\n        <Route path=\"/read_it/resetpassword/:token\"\n        component={(props) => <ResetPassword {...props} onError={handleError} onNotification={handleNotification}  />} />\n        \n        \n      </Switch>\n      </main>\n    </Router>\n    </ThemeProvider>\n    </div>\n  );\n}\n\nexport default isAuthorized(App);\n"]},"metadata":{},"sourceType":"module"}