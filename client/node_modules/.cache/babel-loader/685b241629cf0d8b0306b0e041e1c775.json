{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import'../css/form.css';import axios from\"axios\";import{makeStyles}from'@material-ui/styles';import{Button,FormControl,Input,InputLabel}from'@material-ui/core';var useStyles=makeStyles(function(theme){return{submit:{marginTop:theme.spacing*3,justifySelf:'center',color:'white'}};});var Signup=function Signup(props){var classes=useStyles();var _useState=useState(),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setFirstName=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setLastName=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),repeatPassword=_useState10[0],setRepeatPassword=_useState10[1];// const regExp TODO: validate email\nvar handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:props.onError(null);e.preventDefault();if(!(password!==repeatPassword)){_context.next=6;break;}console.log('errors');props.onError(\"Passwords don't match\");return _context.abrupt(\"return\");case 6:if(!(password<8)){_context.next=10;break;}console.log('error');props.onError('Password too short');return _context.abrupt(\"return\");case 10:_context.prev=10;console.log(firstName);_context.next=14;return axios.post('https://read-it-react.herokuapp.com/user/register',{firstName:firstName,lastName:lastName,email:email,password:password,repeatPassword:repeatPassword});case 14:response=_context.sent;console.log(response);props.onNotification('Signup succsessful');props.history.push('/read_it/login');_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](10);if(_context.t0){console.log(_context.t0.response.data.error);props.onError(_context.t0.response.data.error);}case 23:console.log('submit');case 24:case\"end\":return _context.stop();}}},_callee,null,[[10,20]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Sign up\"),/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",required:true,fullWidth:true},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(Input,{name:\"email\",type:\"email\",id:\"email\",autoComplete:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}})),/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",required:true,fullWidth:true},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"firstName\"},\"Firstname\"),/*#__PURE__*/React.createElement(Input,{name:\"firstName\",type:\"text\",id:\"firstName\",autoComplete:\"firstName\",onChange:function onChange(e){return setFirstName(e.target.value);}})),/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",required:true,fullWidth:true},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"lastname\"},\"Lastname\"),/*#__PURE__*/React.createElement(Input,{name:\"lastname\",type:\"text\",id:\"lastname\",autoComplete:\"lastname\",onChange:function onChange(e){return setLastName(e.target.value);}})),/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",required:true,fullWidth:true},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(Input,{name:\"password\",type:\"password\",id:\"password\",autoComplete:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})),/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",required:true,fullWidth:true},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"repeatPassword\"},\"Repeat Password\"),/*#__PURE__*/React.createElement(Input,{name:\"repeatPassword\",type:\"password\",id:\"repeatPassword\",autoComplete:\"repeatPassword\",onChange:function onChange(e){return setRepeatPassword(e.target.value);}})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"secondary\",className:classes.submit,onClick:function onClick(e){return handleSubmit(e);}},\"Sign Up\")));};export default Signup;","map":{"version":3,"sources":["C:/Users/elÃ­sabet/Documents/web-dev/react/react_final_exam/client/src/pages/Signup.js"],"names":["React","useState","axios","makeStyles","Button","FormControl","Input","InputLabel","useStyles","theme","submit","marginTop","spacing","justifySelf","color","Signup","props","classes","email","setEmail","firstName","setFirstName","lastName","setLastName","password","setPassword","repeatPassword","setRepeatPassword","handleSubmit","e","onError","preventDefault","console","log","post","response","onNotification","history","push","data","error","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport '../css/form.css'\r\nimport axios from \"axios\";\r\n\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nconst Signup = (props) => {\r\n\r\n    const classes= useStyles()\r\n\r\nconst [email, setEmail] = useState()\r\nconst [firstName, setFirstName] = useState()\r\nconst [lastName, setLastName] = useState()\r\nconst [password, setPassword] = useState()\r\nconst [repeatPassword, setRepeatPassword] = useState()\r\n\r\n// const regExp TODO: validate email\r\n\r\n\r\nconst handleSubmit = async (e) => {\r\n    props.onError(null)\r\n    e.preventDefault()  \r\n    if(password !== repeatPassword){\r\n        console.log('errors')\r\n        props.onError(\"Passwords don't match\")\r\n        return\r\n    }\r\n    if(password < 8){\r\n        console.log('error')\r\n        props.onError('Password too short')\r\n        return\r\n    }\r\n      try{\r\n        \r\n        console.log(firstName)\r\n        const response = await axios.post('https://read-it-react.herokuapp.com/user/register', {\r\n            firstName,\r\n            lastName,\r\n            email,\r\n            password,\r\n            repeatPassword\r\n        })\r\n        console.log(response)\r\n        props.onNotification('Signup succsessful')\r\n          props.history.push('/read_it/login')\r\n          \r\n      }catch(err){\r\n        if(err){\r\n          console.log(err.response.data.error);\r\n          props.onError(err.response.data.error) }\r\n      }\r\n    \r\n    console.log('submit')\r\n}\r\n    return(\r\n        <>\r\n        <form >\r\n        <h1>Sign up</h1>\r\n        <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"email\">Email</InputLabel>\r\n            <Input name=\"email\" type=\"email\" id=\"email\" autoComplete=\"email\" onChange={(e) => setEmail(e.target.value)}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"firstName\">Firstname</InputLabel>\r\n            <Input name=\"firstName\" type=\"text\" id=\"firstName\" autoComplete=\"firstName\" onChange={(e) => setFirstName(e.target.value)}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"lastname\">Lastname</InputLabel>\r\n            <Input name=\"lastname\" type=\"text\" id=\"lastname\" autoComplete=\"lastname\" onChange={(e) => setLastName(e.target.value)}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n            <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"password\" onChange={(e) => setPassword(e.target.value)}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"repeatPassword\">Repeat Password</InputLabel>\r\n            <Input name=\"repeatPassword\" type=\"password\" id=\"repeatPassword\" autoComplete=\"repeatPassword\" onChange={(e) => setRepeatPassword(e.target.value)}/>\r\n          </FormControl>\r\n            <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={(e) => handleSubmit(e)}\r\n            >Sign Up</Button>\r\n        </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Signup"]},"metadata":{},"sourceType":"module"}