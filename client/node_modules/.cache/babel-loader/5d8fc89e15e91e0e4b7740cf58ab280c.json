{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from'axios';import{makeStyles}from'@material-ui/styles';import{Button,FormControl,Input,InputLabel}from'@material-ui/core';var useStyles=makeStyles(function(theme){return{submit:{marginTop:theme.spacing*3,justifySelf:'center',color:'white'}};});var ResetPassword=function ResetPassword(props){var classes=useStyles();var _useState=useState(),_useState2=_slicedToArray(_useState,2),newPassword=_useState2[0],setNewPassword=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),newRepeatPassword=_useState4[0],setRepeatPassword=_useState4[1];// console.log()\nvar handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response,str;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"click\");e.preventDefault();if(!(!newPassword||!newRepeatPassword)){_context.next=5;break;}props.onError('Missing fields');return _context.abrupt(\"return\");case 5:if(!(newPassword!==newRepeatPassword)){_context.next=8;break;}props.onError('Passwords dont match');return _context.abrupt(\"return\");case 8:_context.prev=8;console.log('try');_context.next=12;return axios.post('https://read-it-react.herokuapp.com/resetpassword',{token:props.match.params.token,newPassword:newPassword,newRepeatPassword:newRepeatPassword});case 12:response=_context.sent;console.log(response.data);if(response.data.response){str=response.data.response.stoUpperCase();props.onNotification(str);}_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](8);props.onError(_context.t0.response.data.error);case 20:case\"end\":return _context.stop();}}},_callee,null,[[8,17]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",required:true,fullWidth:true},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"newPassword\"},\"New Password\"),/*#__PURE__*/React.createElement(Input,{name:\"newPassword\",type:\"password\",id:\"newPassword\",onChange:function onChange(e){return setNewPassword(e.target.value);}})),/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",required:true,fullWidth:true},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"newRepeatPassword\"},\"Repeat New Password\"),/*#__PURE__*/React.createElement(Input,{name:\"newRepeatPassword\",type:\"password\",id:\"newRepeatPassword\",onChange:function onChange(e){return setRepeatPassword(e.target.value);}})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"secondary\",className:classes.submit,onClick:function onClick(e){return handleSubmit(e);}},\"Set new Password\")));};export default ResetPassword;","map":{"version":3,"sources":["C:/Users/elÃ­sabet/Documents/web-dev/react/react_final_exam/client/src/pages/ResetPassword.js"],"names":["React","useState","axios","makeStyles","Button","FormControl","Input","InputLabel","useStyles","theme","submit","marginTop","spacing","justifySelf","color","ResetPassword","props","classes","newPassword","setNewPassword","newRepeatPassword","setRepeatPassword","handleSubmit","e","console","log","preventDefault","onError","post","token","match","params","response","data","str","stoUpperCase","onNotification","error","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from 'axios'\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nconst ResetPassword = ( props) => {\r\n    const classes = useStyles()\r\n\r\n    const [ newPassword, setNewPassword ] = useState()\r\n    const [ newRepeatPassword, setRepeatPassword ] = useState()\r\n\r\n  \r\n    // console.log()\r\n    const handleSubmit = async (e) => {\r\n        console.log(\"click\")\r\n        e.preventDefault()\r\n        if(!newPassword || !newRepeatPassword){\r\n            props.onError('Missing fields')\r\n            return\r\n        }\r\n        if(newPassword !== newRepeatPassword){\r\n            props.onError('Passwords dont match')\r\n            return\r\n        }\r\n        try{ \r\n            console.log('try')\r\n            const response = await axios.post('https://read-it-react.herokuapp.com/resetpassword', {\r\n            token: props.match.params.token,\r\n            newPassword,\r\n            newRepeatPassword\r\n        })\r\n        console.log(response.data)\r\n        if(response.data.response){\r\n            const str = response.data.response.stoUpperCase()\r\n            props.onNotification(str)\r\n        }\r\n        }catch(err){\r\n            props.onError(err.response.data.error)\r\n        }\r\n       \r\n        \r\n}\r\n\r\n    return(\r\n        <>\r\n        <form>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"newPassword\">New Password</InputLabel>\r\n                <Input name=\"newPassword\" type=\"password\" id=\"newPassword\"  onChange={(e) => setNewPassword(e.target.value)}/>\r\n          </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"newRepeatPassword\">Repeat New Password</InputLabel>\r\n                <Input name=\"newRepeatPassword\" type=\"password\" id=\"newRepeatPassword\"  onChange={(e) => setRepeatPassword(e.target.value)}/>\r\n          </FormControl>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={(e)=> handleSubmit(e)}\r\n            >Set new Password</Button>\r\n    </form>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default ResetPassword;"]},"metadata":{},"sourceType":"module"}