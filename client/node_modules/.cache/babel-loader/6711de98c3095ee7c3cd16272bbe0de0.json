{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Route,NavLink,Switch}from'react-router-dom';import'./App.css';import Signup from'./pages/Signup';import Login from'./pages/Login';import Logout from'./components/Logout';import{ThemeProvider}from'@material-ui/core/styles';import axios from'axios';// import apiCred from './config/api' \nimport theme from'./components/theme';import Profile from'./pages/Profile';import Search from'./pages/Search';import ReviewBook from'./pages/ReviewBook';import Reviews from'./pages/Reviews';import isAuthorized from'./auth/isAuthorized';import ForgotPassword from'./pages/ForgotPassword';import ResetPassword from'./pages/ResetPassword';import BookDetail from'./pages/BookDetail';import Error from'./components/Error';import Notification from'./components/Notification';axios.defaults.withCredentials=true;var App=function App(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),notification=_useState4[0],setNotification=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoggedIn=_useState6[0],setLoggedInStatus=_useState6[1];useEffect(function(){if(props.isAuthorized){setLoggedInStatus(true);}},[props.isAuthorized]);var clearError=function clearError(){setTimeout(function(){setError();},2500);};var clearNotification=function clearNotification(){setTimeout(function(){setNotification();},2500);};var handleAction=function handleAction(newStatus){console.log(newStatus);setLoggedInStatus(newStatus);};var handleError=function handleError(errorMsg){setError(errorMsg);clearError();};var handleNotification=function handleNotification(notificationMsg){setNotification(notificationMsg);clearNotification();};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(ThemeProvider,{theme:theme},/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(\"nav\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"logo\"},\"READ IT\"),/*#__PURE__*/React.createElement(NavLink,{activeClassName:\"active\",exact:true,to:\"/read_it\"},\"Home\"),/*#__PURE__*/React.createElement(NavLink,{activeClassName:\"active\",to:\"/read_it/reviews\"},\"Reviews\"),/*#__PURE__*/React.createElement(NavLink,{activeClassName:\"active\",to:\"/read_it/signup\"},\"Sign up\"),!isLoggedIn?/*#__PURE__*/React.createElement(NavLink,{activeClassName:\"active\",to:\"/read_it/login\"},\"Log in\"):null,isLoggedIn?/*#__PURE__*/React.createElement(NavLink,{activeClassName:\"active\",to:\"/read_it/profile\"},\"Profile\"):null,isLoggedIn?/*#__PURE__*/React.createElement(Logout,{onLogout:handleAction,onNotification:handleNotification,onError:handleError}):null),/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"div\",{className:error?'show errorWrapper':'errorWrapper'},/*#__PURE__*/React.createElement(Error,{error:error})),/*#__PURE__*/React.createElement(\"div\",{className:notification?'show notificationWrapper':'notificationWrapper'},/*#__PURE__*/React.createElement(Notification,{notification:notification})),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/read_it/\",component:function component(){return/*#__PURE__*/React.createElement(Search,{onError:handleError,onNotification:handleNotification});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/read_it/bookdetail/:id\",component:function component(){return/*#__PURE__*/React.createElement(BookDetail,Object.assign({},props,{onError:handleError,onNotification:handleNotification}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/read_it/signup\",component:function component(props){return/*#__PURE__*/React.createElement(Signup,Object.assign({},props,{onError:handleError,onNotification:handleNotification}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/read_it/login\",component:function component(props){return/*#__PURE__*/React.createElement(Login,Object.assign({},props,{onError:handleError,onLogin:handleAction,onNotification:handleNotification}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/read_it/profile\",component:function component(props){return/*#__PURE__*/React.createElement(Profile,Object.assign({},props,{onError:handleError,onNotification:handleNotification}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/read_it/reviews\",component:function component(props){return/*#__PURE__*/React.createElement(Reviews,Object.assign({},props,{onError:handleError,onNotification:handleNotification}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/read_it/reviewbook/:id\",component:function component(props){return/*#__PURE__*/React.createElement(ReviewBook,Object.assign({},props,{onError:handleError,onNotification:handleNotification}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/read_it/forgotpassword\",component:function component(props){return/*#__PURE__*/React.createElement(ForgotPassword,Object.assign({},props,{onError:handleError,onNotification:handleNotification}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/read_it/resetpassword/:token\",component:function component(props){return/*#__PURE__*/React.createElement(ResetPassword,Object.assign({},props,{onError:handleError,onNotification:handleNotification}));}}))))));};export default isAuthorized(App);","map":{"version":3,"sources":["C:/Users/elÃ­sabet/Documents/web-dev/react/react_final_exam/client/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","NavLink","Switch","Signup","Login","Logout","ThemeProvider","axios","theme","Profile","Search","ReviewBook","Reviews","isAuthorized","ForgotPassword","ResetPassword","BookDetail","Error","Notification","defaults","withCredentials","App","props","error","setError","notification","setNotification","isLoggedIn","setLoggedInStatus","clearError","setTimeout","clearNotification","handleAction","newStatus","console","log","handleError","errorMsg","handleNotification","notificationMsg"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, NavLink, Switch  } from 'react-router-dom';\nimport './App.css';\n\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Logout from './components/Logout';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport axios from 'axios';\n\n// import apiCred from './config/api' \nimport theme from './components/theme';\nimport Profile from './pages/Profile';\nimport Search from './pages/Search';\n\nimport ReviewBook from './pages/ReviewBook';\nimport Reviews from './pages/Reviews';\nimport isAuthorized from './auth/isAuthorized';\nimport ForgotPassword from './pages/ForgotPassword';\nimport ResetPassword from './pages/ResetPassword';\nimport BookDetail from './pages/BookDetail';\nimport Error from './components/Error';\nimport Notification from './components/Notification';\n\naxios.defaults.withCredentials = true;\n\n\nconst App = (props) => {\n  const [ error, setError ] = useState()\n  const [ notification, setNotification ] = useState()\n  const [ isLoggedIn, setLoggedInStatus ] = useState(false)\n\n  useEffect(() => {\n    if(props.isAuthorized){\n     setLoggedInStatus(true)\n    }\n  }, [props.isAuthorized])\n\n  const clearError = () => {\n    setTimeout(() => {\n        setError()\n    }, 2500)\n}\n  const clearNotification = () => {\n    setTimeout(() => {\n      setNotification()\n    },2500)\n  }\n  const handleAction = (newStatus) => {\n    console.log(newStatus)\n    setLoggedInStatus(newStatus)\n}\n  const handleError = (errorMsg) => {\n    setError(errorMsg)\n    clearError()\n  }\n  const handleNotification = (notificationMsg) =>{\n    setNotification(notificationMsg)\n    clearNotification()\n  }\n \n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme} >\n      <Router>\n        <nav>\n          <li className=\"logo\">READ IT</li>\n          <NavLink activeClassName=\"active\" exact to= \"/read_it\">Home</NavLink>\n          <NavLink activeClassName=\"active\" to= \"/read_it/reviews\">Reviews</NavLink>\n          <NavLink activeClassName=\"active\" to= \"/read_it/signup\">Sign up</NavLink>\n          {!isLoggedIn? <NavLink activeClassName=\"active\" to= \"/read_it/login\">Log in</NavLink>:null}\n          {isLoggedIn? <NavLink activeClassName=\"active\" to= \"/read_it/profile\">Profile</NavLink> :null}\n          {isLoggedIn? <Logout  onLogout={handleAction} onNotification={handleNotification} onError={handleError}/>: null}\n        </nav>\n      \n     <main>\n     <div className={error? 'show errorWrapper': 'errorWrapper'}>\n            <Error error={error} />\n        </div>\n        <div className={notification? 'show notificationWrapper': 'notificationWrapper'}>\n            <Notification notification={notification} />\n        </div>\n      <Switch>\n        <Route exact path=\"/read_it/\"\n        component={() => <Search onError={handleError} onNotification={handleNotification} />}/>\n       \n        <Route exact path=\"/read_it/bookdetail/:id\"\n        component={() => <BookDetail {...props} onError={handleError} onNotification={handleNotification}/>}/>\n\n        <Route path=\"/read_it/signup\"  \n        component={(props) => <Signup {...props} onError={handleError} onNotification={handleNotification}/>}/>\n\n        <Route path=\"/read_it/login\"  \n        component={(props) => <Login {...props} onError={handleError} onLogin={handleAction}  onNotification={handleNotification} />}/>\n\n        <Route path=\"/read_it/profile\"  \n        component={(props) => <Profile  {...props} onError={handleError} onNotification={handleNotification}/>}/>\n\n        <Route path=\"/read_it/reviews\"  \n        component={(props) => <Reviews {...props} onError={handleError} onNotification={handleNotification} />}/>\n\n        <Route path=\"/read_it/reviewbook/:id\"\n        component={(props) => <ReviewBook {...props} onError={handleError} onNotification={handleNotification} />} />\n        \n        <Route path=\"/read_it/forgotpassword\"\n        component={(props) => <ForgotPassword {...props} onError={handleError} onNotification={handleNotification} />} />\n\n        <Route path=\"/read_it/resetpassword/:token\"\n        component={(props) => <ResetPassword {...props} onError={handleError} onNotification={handleNotification}  />} />\n        \n        \n      </Switch>\n      </main>\n    </Router>\n    </ThemeProvider>\n    </div>\n  );\n}\n\nexport default isAuthorized(App);\n"]},"metadata":{},"sourceType":"module"}