{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{Link}from'react-router-dom';// import formCss from '../css/form.css'\nimport{makeStyles}from'@material-ui/styles';import{Button,FormControl,Input,InputLabel}from'@material-ui/core';var useStyles=makeStyles(function(theme){return{submit:{marginTop:theme.spacing*3,justifySelf:'center',color:'white'}};});var Login=function Login(props){var classes=useStyles();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:props.onError();e.preventDefault();if(!(!email||!password)){_context.next=5;break;}props.onError('Missing fields');return _context.abrupt(\"return\");case 5:_context.prev=5;_context.next=8;return axios.post(\"https://read-it-react.herokuapp.com/user/login\",{email:email,password:password});case 8:response=_context.sent;console.log(response.data);props.onLogin(true);props.onNotification('Login successful');props.history.push('/read_it/profile');_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](5);if(_context.t0){console.log(_context.t0.response.data.error);props.onError(_context.t0.response.data.error);}case 18:case\"end\":return _context.stop();}}},_callee,null,[[5,15]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();// TODO: add forgot password\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"loginPage\"},/*#__PURE__*/React.createElement(\"form\",{method:\"post\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Log in\"),/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",required:true,fullWidth:true},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"email\"},\"Email Address\"),/*#__PURE__*/React.createElement(Input,{id:\"email\",name:\"email\",autoComplete:\"email\",autoFocus:true,onChange:function onChange(e){return setEmail(e.target.value);}})),/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",required:true,fullWidth:true},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(Input,{name:\"password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",onChange:function onChange(e){return setPassword(e.target.value);}})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"secondary\",className:classes.submit,onClick:function onClick(e){return handleSubmit(e);}},\"Log in\")),/*#__PURE__*/React.createElement(Link,{to:\"/read_it/forgotpassword\"},\"Forgot Your Password?\"));};export default Login;","map":{"version":3,"sources":["C:/Users/elÃ­sabet/Documents/web-dev/react/react_final_exam/client/src/pages/Login.js"],"names":["React","useState","axios","Link","makeStyles","Button","FormControl","Input","InputLabel","useStyles","theme","submit","marginTop","spacing","justifySelf","color","Login","props","classes","email","setEmail","password","setPassword","handleSubmit","e","onError","preventDefault","post","response","console","log","data","onLogin","onNotification","history","push","error","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\n\r\n// import formCss from '../css/form.css'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nconst Login = (props) => {\r\n    const classes = useStyles()\r\n    const [ email, setEmail ] = useState(\"\")\r\n    const [ password, setPassword ] = useState(\"\")\r\n\r\n    const handleSubmit = async (e) => {\r\n        props.onError()\r\n        e.preventDefault()\r\n        if(!email || !password){\r\n            props.onError('Missing fields')\r\n            return;\r\n        }\r\n          try{\r\n            const response = await axios.post(\"https://read-it-react.herokuapp.com/user/login\", {\r\n              email, password\r\n          })\r\n          console.log(response.data)\r\n         props.onLogin(true)\r\n          props.onNotification('Login successful')\r\n            props.history.push('/read_it/profile')\r\n            \r\n        }catch(err){\r\n          if(err){\r\n            console.log(err.response.data.error);\r\n            props.onError(err.response.data.error)\r\n           }\r\n          }\r\n        \r\n        \r\n      }\r\n// TODO: add forgot password\r\n    return(\r\n        <div className=\"loginPage\">\r\n        <form method=\"post\" >\r\n            <h1>Log in</h1>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n            <Input id=\"email\" name=\"email\" autoComplete=\"email\" autoFocus onChange={(e) => setEmail(e.target.value)} />\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n            <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" onChange={(e) => setPassword(e.target.value)}/>\r\n          </FormControl>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={(e)=> handleSubmit(e)}\r\n            >\r\n            Log in\r\n          </Button>\r\n                \r\n            \r\n        {/* <Link to=\"/sendResetEmail\">Forgot your Password?</Link> */}\r\n\r\n        </form>\r\n        <Link to=\"/read_it/forgotpassword\">Forgot Your Password?</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}