{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\src\\\\pages\\\\Login.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom'; // import formCss from '../css/form.css'\n\nimport { makeStyles } from '@material-ui/styles';\nimport { Button, FormControl, Input, InputLabel } from '@material-ui/core';\nconst useStyles = makeStyles(theme => ({\n  submit: {\n    marginTop: theme.spacing * 3,\n    justifySelf: 'center',\n    color: 'white'\n  }\n}));\n\nconst Login = props => {\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = async e => {\n    props.onError();\n    e.preventDefault();\n\n    if (!email || !password) {\n      props.onError('Missing fields');\n      return;\n    }\n\n    try {\n      const response = await axios.post(\"https://read-it-react.herokuapp.com/user/login\", {\n        email,\n        password\n      });\n      console.log(response.data);\n      props.onLogin(true);\n      props.onNotification('Login successful');\n      props.history.push('/read_it/profile');\n    } catch (err) {\n      if (err) {\n        console.log(err.response.data.error);\n        props.onError(err.response.data.error);\n      }\n    }\n  }; // TODO: add forgot password\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    method: \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Log in\"), /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"email\",\n    name: \"email\",\n    autoComplete: \"email\",\n    autoFocus: true,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"password\",\n    type: \"password\",\n    id: \"password\",\n    autoComplete: \"current-password\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.submit,\n    onClick: e => handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"Log in\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/read_it/forgotpassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"Forgot Your Password?\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/elÃ­sabet/Documents/web-dev/react/react_final_exam/client/src/pages/Login.js"],"names":["React","useState","axios","Link","makeStyles","Button","FormControl","Input","InputLabel","useStyles","theme","submit","marginTop","spacing","justifySelf","color","Login","props","classes","email","setEmail","password","setPassword","handleSubmit","e","onError","preventDefault","response","post","console","log","data","onLogin","onNotification","history","push","err","error","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\n\r\n// import formCss from '../css/form.css'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nconst Login = (props) => {\r\n    const classes = useStyles()\r\n    const [ email, setEmail ] = useState(\"\")\r\n    const [ password, setPassword ] = useState(\"\")\r\n\r\n    const handleSubmit = async (e) => {\r\n        props.onError()\r\n        e.preventDefault()\r\n        if(!email || !password){\r\n            props.onError('Missing fields')\r\n            return;\r\n        }\r\n          try{\r\n            const response = await axios.post(\"https://read-it-react.herokuapp.com/user/login\", {\r\n              email, password\r\n          })\r\n          console.log(response.data)\r\n         props.onLogin(true)\r\n          props.onNotification('Login successful')\r\n            props.history.push('/read_it/profile')\r\n            \r\n        }catch(err){\r\n          if(err){\r\n            console.log(err.response.data.error);\r\n            props.onError(err.response.data.error)\r\n           }\r\n          }\r\n        \r\n        \r\n      }\r\n// TODO: add forgot password\r\n    return(\r\n        <div className=\"loginPage\">\r\n        <form method=\"post\" >\r\n            <h1>Log in</h1>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n            <Input id=\"email\" name=\"email\" autoComplete=\"email\" autoFocus onChange={(e) => setEmail(e.target.value)} />\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n            <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" onChange={(e) => setPassword(e.target.value)}/>\r\n          </FormControl>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={(e)=> handleSubmit(e)}\r\n            >\r\n            Log in\r\n          </Button>\r\n                \r\n            \r\n        {/* <Link to=\"/sendResetEmail\">Forgot your Password?</Link> */}\r\n\r\n        </form>\r\n        <Link to=\"/read_it/forgotpassword\">Forgot Your Password?</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}