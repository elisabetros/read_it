{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\src\\\\pages\\\\Signup.js\";\nimport React, { useState } from \"react\";\nimport '../css/form.css';\nimport Error from '../components/Error';\nimport Notification from '../components/Notification';\nimport axios from \"axios\";\nimport { makeStyles } from '@material-ui/styles';\nimport { Button, FormControl, Input, InputLabel } from '@material-ui/core';\nconst useStyles = makeStyles(theme => ({\n  submit: {\n    marginTop: theme.spacing * 3,\n    justifySelf: 'center',\n    color: 'white'\n  }\n}));\n\nconst Signup = props => {\n  const classes = useStyles();\n  const [email, setEmail] = useState();\n  const [firstName, setFirstName] = useState();\n  const [lastName, setLastName] = useState();\n  const [password, setPassword] = useState();\n  const [repeatPassword, setRepeatPassword] = useState(); // const regExp TODO: validate email\n\n  const handleSubmit = async e => {\n    props.onError(null);\n    e.preventDefault();\n\n    if (password !== repeatPassword) {\n      console.log('errors');\n      props.onError(\"Passwords don't match\");\n      return;\n    }\n\n    if (password < 8) {\n      console.log('error');\n      props.onError('Password too short');\n      return;\n    }\n\n    try {\n      console.log(firstName);\n      const response = await axios.post('http://localhost/user/register', {\n        firstName,\n        lastName,\n        email,\n        password,\n        repeatPassword\n      });\n      console.log(response);\n      props.onNotification('Signup succsessful');\n      props.history.push('/read_it/login');\n    } catch (err) {\n      if (err) {\n        console.log(err.response.data.error);\n        props.onError(err.response.data.error);\n      }\n    }\n\n    console.log('submit');\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Sign up\"), /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    type: \"email\",\n    id: \"email\",\n    autoComplete: \"email\",\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"firstName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Firstname\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"firstName\",\n    type: \"text\",\n    id: \"firstName\",\n    autoComplete: \"firstName\",\n    onChange: e => setFirstName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"Lastname\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"lastname\",\n    type: \"text\",\n    id: \"lastname\",\n    autoComplete: \"lastname\",\n    onChange: e => setLastName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"password\",\n    type: \"password\",\n    id: \"password\",\n    autoComplete: \"password\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"repeatPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Repeat Password\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"repeatPassword\",\n    type: \"password\",\n    id: \"repeatPassword\",\n    autoComplete: \"repeatPassword\",\n    onChange: e => setRepeatPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.submit,\n    onClick: e => handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Sign Up\")));\n};\n\nexport default Signup;","map":{"version":3,"sources":["C:/Users/elÃ­sabet/Documents/web-dev/react/react_final_exam/client/src/pages/Signup.js"],"names":["React","useState","Error","Notification","axios","makeStyles","Button","FormControl","Input","InputLabel","useStyles","theme","submit","marginTop","spacing","justifySelf","color","Signup","props","classes","email","setEmail","firstName","setFirstName","lastName","setLastName","password","setPassword","repeatPassword","setRepeatPassword","handleSubmit","e","onError","preventDefault","console","log","response","post","onNotification","history","push","err","data","error","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport '../css/form.css'\r\nimport Error from '../components/Error'\r\nimport Notification from '../components/Notification'\r\nimport axios from \"axios\";\r\n\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nconst Signup = (props) => {\r\n\r\n    const classes= useStyles()\r\n\r\nconst [email, setEmail] = useState()\r\nconst [firstName, setFirstName] = useState()\r\nconst [lastName, setLastName] = useState()\r\nconst [password, setPassword] = useState()\r\nconst [repeatPassword, setRepeatPassword] = useState()\r\n\r\n// const regExp TODO: validate email\r\n\r\n\r\nconst handleSubmit = async (e) => {\r\n    props.onError(null)\r\n    e.preventDefault()  \r\n    if(password !== repeatPassword){\r\n        console.log('errors')\r\n        props.onError(\"Passwords don't match\")\r\n        return\r\n    }\r\n    if(password < 8){\r\n        console.log('error')\r\n        props.onError('Password too short')\r\n        return\r\n    }\r\n      try{\r\n        \r\n        console.log(firstName)\r\n        const response = await axios.post('http://localhost/user/register', {\r\n            firstName,\r\n            lastName,\r\n            email,\r\n            password,\r\n            repeatPassword\r\n        })\r\n        console.log(response)\r\n        props.onNotification('Signup succsessful')\r\n          props.history.push('/read_it/login')\r\n          \r\n      }catch(err){\r\n        if(err){\r\n          console.log(err.response.data.error);\r\n          props.onError(err.response.data.error) }\r\n      }\r\n    \r\n    console.log('submit')\r\n}\r\n    return(\r\n        <>\r\n        <form >\r\n        <h1>Sign up</h1>\r\n        <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"email\">Email</InputLabel>\r\n            <Input name=\"email\" type=\"email\" id=\"email\" autoComplete=\"email\" onChange={(e) => setEmail(e.target.value)}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"firstName\">Firstname</InputLabel>\r\n            <Input name=\"firstName\" type=\"text\" id=\"firstName\" autoComplete=\"firstName\" onChange={(e) => setFirstName(e.target.value)}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"lastname\">Lastname</InputLabel>\r\n            <Input name=\"lastname\" type=\"text\" id=\"lastname\" autoComplete=\"lastname\" onChange={(e) => setLastName(e.target.value)}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n            <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"password\" onChange={(e) => setPassword(e.target.value)}/>\r\n          </FormControl>\r\n          <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"repeatPassword\">Repeat Password</InputLabel>\r\n            <Input name=\"repeatPassword\" type=\"password\" id=\"repeatPassword\" autoComplete=\"repeatPassword\" onChange={(e) => setRepeatPassword(e.target.value)}/>\r\n          </FormControl>\r\n            <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={(e) => handleSubmit(e)}\r\n            >Sign Up</Button>\r\n        </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Signup"]},"metadata":{},"sourceType":"module"}