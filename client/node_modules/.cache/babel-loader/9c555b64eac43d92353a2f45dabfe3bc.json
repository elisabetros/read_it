{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React from'react';import axios from'axios';import isAuthorized from'../auth/isAuthorized';import{Button}from'@material-ui/core';import{makeStyles}from'@material-ui/styles';import{useHistory}from'react-router-dom';var useStyles=makeStyles(function(theme){return{submit:{justifySelf:'center',color:'white'}};});var LogOut=function LogOut(props){var classes=useStyles();var history=useHistory();var handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios('https://read-it-react.herokuapp.com/user/logout');case 3:response=_context.sent;console.log(props);if(response.data.response){props.onLogout(false);props.onNotification('You are now logged out');console.log(history.location);if(history.location==='/profile'){props.history.push('/');}}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(_context.t0){console.log(_context.t0);// props.onError(err.response.data.error)\n}case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleLogout(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"secondary\",className:classes.submit,onClick:handleLogout},\"Log Out\");};export default isAuthorized(LogOut);","map":{"version":3,"sources":["C:/Users/elÃ­sabet/Documents/web-dev/react/react_final_exam/client/src/components/Logout.js"],"names":["React","axios","isAuthorized","Button","makeStyles","useHistory","useStyles","theme","submit","justifySelf","color","LogOut","props","classes","history","handleLogout","response","console","log","data","onLogout","onNotification","location","push"],"mappings":"2YAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,OAASC,UAAT,KAA2B,qBAA3B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEE,GAAMC,CAAAA,SAAS,CAAGF,UAAU,CAAC,SAAAG,KAAK,QAAK,CACrCC,MAAM,CAAE,CACPC,WAAW,CAAE,QADN,CAEPC,KAAK,CAAC,OAFC,CAD6B,CAAL,EAAN,CAA5B,CAQF,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,CACtB,GAAMC,CAAAA,OAAO,CAAGP,SAAS,EAAzB,CACA,GAAMQ,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CACA,GAAMU,CAAAA,YAAY,0FAAG,sLAEUd,CAAAA,KAAK,CAAC,iDAAD,CAFf,QAEPe,QAFO,eAGbC,OAAO,CAACC,GAAR,CAAYN,KAAZ,EACA,GAAGI,QAAQ,CAACG,IAAT,CAAcH,QAAjB,CAA0B,CACtBJ,KAAK,CAACQ,QAAN,CAAe,KAAf,EACAR,KAAK,CAACS,cAAN,CAAqB,wBAArB,EACAJ,OAAO,CAACC,GAAR,CAAYJ,OAAO,CAACQ,QAApB,EACA,GAAGR,OAAO,CAACQ,QAAR,GAAqB,UAAxB,CAAmC,CAC/BV,KAAK,CAACE,OAAN,CAAcS,IAAd,CAAmB,GAAnB,EACH,CACJ,CAXY,+EAab,eAAO,CACHN,OAAO,CAACC,GAAR,cACA;AACF,CAhBW,oEAAH,kBAAZH,CAAAA,YAAY,0CAAlB,CAqBA,mBACI,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CACA,SAAS,KADT,CAEA,OAAO,CAAC,WAFR,CAGA,KAAK,CAAC,WAHN,CAIA,SAAS,CAAEF,OAAO,CAACL,MAJnB,CAI2B,OAAO,CAAEO,YAJpC,YADJ,CAQH,CAhCD,CAiCA,cAAeb,CAAAA,YAAY,CAACS,MAAD,CAA3B","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\nimport isAuthorized from '../auth/isAuthorized'\r\nimport { Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { useHistory } from 'react-router-dom';\r\n  \r\n  const useStyles = makeStyles(theme => ({\r\n    submit: {\r\n     justifySelf: 'center',\r\n     color:'white'\r\n   },\r\n }));\r\n\r\n\r\nconst LogOut = (props) => {\r\n    const classes = useStyles()\r\n    const history = useHistory()\r\n    const handleLogout = async () => {\r\n        try{\r\n            const response = await axios('https://read-it-react.herokuapp.com/user/logout')\r\n            console.log(props)   \r\n            if(response.data.response){\r\n                props.onLogout(false)\r\n                props.onNotification('You are now logged out')\r\n                console.log(history.location)\r\n                if(history.location === '/profile'){\r\n                    props.history.push('/')\r\n                }\r\n            }       \r\n        }catch(err){\r\n            if(err){\r\n                console.log(err)\r\n                // props.onError(err.response.data.error)\r\n             }\r\n        }\r\n\r\n    }\r\n\r\n    return(\r\n        <Button type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"secondary\"\r\n        className={classes.submit} onClick={handleLogout}>Log Out</Button>\r\n    )\r\n\r\n}\r\nexport default isAuthorized(LogOut)"]},"metadata":{},"sourceType":"module"}