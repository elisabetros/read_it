{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\el\\xEDsabet\\\\Documents\\\\web-dev\\\\react\\\\react_final_exam\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import{makeStyles}from'@material-ui/styles';import{Button,FormControl,Input,InputLabel}from'@material-ui/core';var useStyles=makeStyles(function(theme){return{submit:{marginTop:theme.spacing*3,justifySelf:'center',color:'white'}};});var ForgotPassword=function ForgotPassword(props){var classes=useStyles();var _useState=useState(),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var handleSubmitEmail=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post('https://read-it-react.herokuapp.com/sendResetLink',{email:email});case 4:response=_context.sent;if(response.data.response){props.onNotification('email sent');props.history.push('/');}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);if(_context.t0){console.log(_context.t0);props.onError(_context.t0.response.data.error);}case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function handleSubmitEmail(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(FormControl,{margin:\"normal\",required:true,fullWidth:true},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"email\"},\"Email Address\"),/*#__PURE__*/React.createElement(Input,{id:\"email\",name:\"email\",autoComplete:\"email\",autoFocus:true,onChange:function onChange(e){return setEmail(e.target.value);}})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"secondary\",className:classes.submit,onClick:function onClick(e){return handleSubmitEmail(e);}},\"Send Email\"));};export default ForgotPassword;","map":{"version":3,"sources":["C:/Users/elÃ­sabet/Documents/web-dev/react/react_final_exam/client/src/pages/ForgotPassword.js"],"names":["React","useState","axios","makeStyles","Button","FormControl","Input","InputLabel","useStyles","theme","submit","marginTop","spacing","justifySelf","color","ForgotPassword","props","classes","email","setEmail","handleSubmitEmail","e","preventDefault","post","response","data","onNotification","history","push","console","log","onError","error","target","value"],"mappings":"klBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,qBAA3B,CACA,OACIC,MADJ,CAEIC,WAFJ,CAGIC,KAHJ,CAIIC,UAJJ,KAKS,mBALT,CAOA,GAAMC,CAAAA,SAAS,CAAGL,UAAU,CAAC,SAAAM,KAAK,QAAK,CAClCC,MAAM,CAAE,CACPC,SAAS,CAAEF,KAAK,CAACG,OAAN,CAAgB,CADpB,CAEPC,WAAW,CAAE,QAFN,CAGPC,KAAK,CAAC,OAHC,CAD0B,CAAL,EAAN,CAA5B,CAQA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,CAC9B,GAAMC,CAAAA,OAAO,CAAGT,SAAS,EAAzB,CAD8B,cAGHP,QAAQ,EAHL,wCAGvBiB,KAHuB,eAGhBC,QAHgB,eAK9B,GAAMC,CAAAA,iBAAiB,0FAAG,iBAAOC,CAAP,+HACtBA,CAAC,CAACC,cAAF,GADsB,sCAGKpB,CAAAA,KAAK,CAACqB,IAAN,CAAW,mDAAX,CAAgE,CAAEL,KAAK,CAALA,KAAF,CAAhE,CAHL,QAGZM,QAHY,eAIlB,GAAGA,QAAQ,CAACC,IAAT,CAAcD,QAAjB,CAA0B,CACtBR,KAAK,CAACU,cAAN,CAAqB,YAArB,EACAV,KAAK,CAACW,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACH,CAPiB,+EASlB,eAAO,CACHC,OAAO,CAACC,GAAR,cACAd,KAAK,CAACe,OAAN,CAAc,YAAIP,QAAJ,CAAaC,IAAb,CAAkBO,KAAhC,EACN,CAZoB,oEAAH,kBAAjBZ,CAAAA,iBAAiB,4CAAvB,CAkBA,mBAEI,6CACA,oBAAC,WAAD,EAAa,MAAM,CAAC,QAApB,CAA6B,QAAQ,KAArC,CAAsC,SAAS,KAA/C,eACI,oBAAC,UAAD,EAAY,OAAO,CAAC,OAApB,kBADJ,cAEI,oBAAC,KAAD,EAAO,EAAE,CAAC,OAAV,CAAkB,IAAI,CAAC,OAAvB,CAA+B,YAAY,CAAC,OAA5C,CAAoD,SAAS,KAA7D,CAA8D,QAAQ,CAAE,kBAACC,CAAD,QAAOF,CAAAA,QAAQ,CAACE,CAAC,CAACY,MAAF,CAASC,KAAV,CAAf,EAAxE,EAFJ,CADA,cAKE,oBAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,SAAS,KAFX,CAGE,OAAO,CAAC,WAHV,CAIE,KAAK,CAAC,WAJR,CAKE,SAAS,CAAEjB,OAAO,CAACP,MALrB,CAME,OAAO,CAAE,iBAACW,CAAD,QAAKD,CAAAA,iBAAiB,CAACC,CAAD,CAAtB,EANX,eALF,CAFJ,CAiBH,CAxCD,CA2CA,cAAeN,CAAAA,cAAf","sourcesContent":["import React, { useState } from \"react\"\r\nimport axios from \"axios\"\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Input,\r\n    InputLabel\r\n  } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n     submit: {\r\n      marginTop: theme.spacing * 3,\r\n      justifySelf: 'center',\r\n      color:'white'\r\n    },\r\n  }));\r\n\r\nconst ForgotPassword = (props) => {\r\n    const classes = useStyles()\r\n\r\n   const [ email, setEmail ] = useState()\r\n\r\n    const handleSubmitEmail = async (e) => {\r\n        e.preventDefault()\r\n        try{\r\n            const response = await axios.post('https://read-it-react.herokuapp.com/sendResetLink', { email })\r\n            if(response.data.response){\r\n                props.onNotification('email sent')\r\n                props.history.push('/')\r\n            }\r\n        }catch(err){\r\n            if(err){\r\n                console.log(err) \r\n                props.onError(err.response.data.error)\r\n         }\r\n        }\r\n  \r\n    }\r\n\r\n\r\n    return(\r\n        \r\n        <form>\r\n        <FormControl margin=\"normal\" required fullWidth>\r\n            <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n            <Input id=\"email\" name=\"email\" autoComplete=\"email\" autoFocus onChange={(e) => setEmail(e.target.value)} />\r\n          </FormControl>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={(e)=>handleSubmitEmail(e)}>Send Email</Button>\r\n        </form>\r\n        \r\n    )\r\n}\r\n\r\n\r\nexport default ForgotPassword\r\n\r\n"]},"metadata":{},"sourceType":"module"}